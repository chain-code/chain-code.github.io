<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="有了关系型数据库，为什么还需要NOSQL? # nosql数据库无需提前设计表结构，数据可以根据需要自由存储和组织，相较于关系型数据库，nosql高效灵活，非常适合复杂化、高效化、高并发的场景中。
关系型数据库
数据以行和列的方式存储
采用结构化查询语言来对数据进行查询
强调ACID规则：原子性atomicity、一致性consistency、隔离性isolation、持久性durability
强调数据一致性，因此牺牲了读写性能
通常存储在硬盘中
mysql也可以基于内存，即内存表技术。它运行将数据和索引存储在内存中，从而提高查询和修改效率。
如何创建？
与创建普通表一样，使用CREATE TABLE，需要将存储引擎设置为：ENGINE=MEMORY
非关系型数据库
以键值对来存储 没有固定的要求和限制 事务一般无法回滚（部分可以，MongoDB) 需要通过key来查询 基于内存存储（MongoDB基于磁盘） 不支持范围查询 数据库存储引擎 # 数据库引擎是用于存储、处理和保护数据的核心服务。利用数据库引擎可以控制访问权限并快速处理事物，从而满足业务需求。
查看当前使用什么引擎
show engines
查看当前默认存储引擎
show variables like %storage_engine%
查看某表用什么引擎
show create table 表名
结果参数中有
如何指定引擎
创建表时：create语句后面加上engine=“” 修改表时：alter table 表名 engine=&quot;&quot; InnoDB和MyISM的区别 # InnoDB和MyISM的区别
mysql存储引擎是基于表的吗 # 是，不是基于数据库
联合索引 和 mysql 调优的关系 # mysql 调优的一个核心动作，就是通过联合索引实现索引覆盖。
在MySQL中，合理使用联合索引可以提高查询效率，通过 联合索引 实现 索引覆盖 ，常常需要注意一些技巧：
选择合适的列：联合索引的列顺序非常重要。应该优先选择最频繁用于查询条件的列，以提高索引效率。其次考虑选择性高的列，这样可以过滤出更少的数据。 避免冗余列：联合索引的列应该尽量避免包含冗余列，即多个索引的前缀相同。这样会增加索引的维护成本，并占用更多的存储空间。 避免过度索引：不要为每个查询都创建一个新的联合索引。应该根据实际情况，分析那些查询是最频繁的，然后创建针对这些查询的索引。 覆盖索引：如果查询的列都包含在联合索引中，并且不需要访问表的其他列，那么MySql可以直接使用索引来执行查询，不必访问表，这种索引称为覆盖索引，可以提高查询性能。 使用EXPLAIN进行查询计划分析： 使用MySQL的EXPLAIN语句可以查看MySQL执行查询的执行计划，以便优化查询语句和索引的使用。 定期优化索引： 随着数据库的使用，索引的效率可能会下降，因此需要定期进行索引的优化和重建，以保持查询性能的稳定性。 分析查询日志： 监控数据库的查询日志，分析哪些查询是最频繁的，以及它们的查询模式，可以帮助确定需要创建的联合索引。 避免过度索引更新： 避免频繁地更新索引列，因为每次更新索引都会增加数据库的负载和IO操作。 综上所述，联合索引是mysql 调优的一个核心动作， 通过 联合索引进行mysql 调优时，需要综合考虑列的选择、索引的覆盖、查询的频率和模式等因素，以提高MySQL数据库的查询性能。">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="MySql相关问题" />
<meta property="og:description" content="有了关系型数据库，为什么还需要NOSQL? # nosql数据库无需提前设计表结构，数据可以根据需要自由存储和组织，相较于关系型数据库，nosql高效灵活，非常适合复杂化、高效化、高并发的场景中。
关系型数据库
数据以行和列的方式存储
采用结构化查询语言来对数据进行查询
强调ACID规则：原子性atomicity、一致性consistency、隔离性isolation、持久性durability
强调数据一致性，因此牺牲了读写性能
通常存储在硬盘中
mysql也可以基于内存，即内存表技术。它运行将数据和索引存储在内存中，从而提高查询和修改效率。
如何创建？
与创建普通表一样，使用CREATE TABLE，需要将存储引擎设置为：ENGINE=MEMORY
非关系型数据库
以键值对来存储 没有固定的要求和限制 事务一般无法回滚（部分可以，MongoDB) 需要通过key来查询 基于内存存储（MongoDB基于磁盘） 不支持范围查询 数据库存储引擎 # 数据库引擎是用于存储、处理和保护数据的核心服务。利用数据库引擎可以控制访问权限并快速处理事物，从而满足业务需求。
查看当前使用什么引擎
show engines
查看当前默认存储引擎
show variables like %storage_engine%
查看某表用什么引擎
show create table 表名
结果参数中有
如何指定引擎
创建表时：create语句后面加上engine=“” 修改表时：alter table 表名 engine=&quot;&quot; InnoDB和MyISM的区别 # InnoDB和MyISM的区别
mysql存储引擎是基于表的吗 # 是，不是基于数据库
联合索引 和 mysql 调优的关系 # mysql 调优的一个核心动作，就是通过联合索引实现索引覆盖。
在MySQL中，合理使用联合索引可以提高查询效率，通过 联合索引 实现 索引覆盖 ，常常需要注意一些技巧：
选择合适的列：联合索引的列顺序非常重要。应该优先选择最频繁用于查询条件的列，以提高索引效率。其次考虑选择性高的列，这样可以过滤出更少的数据。 避免冗余列：联合索引的列应该尽量避免包含冗余列，即多个索引的前缀相同。这样会增加索引的维护成本，并占用更多的存储空间。 避免过度索引：不要为每个查询都创建一个新的联合索引。应该根据实际情况，分析那些查询是最频繁的，然后创建针对这些查询的索引。 覆盖索引：如果查询的列都包含在联合索引中，并且不需要访问表的其他列，那么MySql可以直接使用索引来执行查询，不必访问表，这种索引称为覆盖索引，可以提高查询性能。 使用EXPLAIN进行查询计划分析： 使用MySQL的EXPLAIN语句可以查看MySQL执行查询的执行计划，以便优化查询语句和索引的使用。 定期优化索引： 随着数据库的使用，索引的效率可能会下降，因此需要定期进行索引的优化和重建，以保持查询性能的稳定性。 分析查询日志： 监控数据库的查询日志，分析哪些查询是最频繁的，以及它们的查询模式，可以帮助确定需要创建的联合索引。 避免过度索引更新： 避免频繁地更新索引列，因为每次更新索引都会增加数据库的负载和IO操作。 综上所述，联合索引是mysql 调优的一个核心动作， 通过 联合索引进行mysql 调优时，需要综合考虑列的选择、索引的覆盖、查询的频率和模式等因素，以提高MySQL数据库的查询性能。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chain-code.github.io/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2024-04-30T16:16:50+08:00" />
<meta property="article:modified_time" content="2024-04-30T16:16:50+08:00" />
<title>MySql相关问题 | Soulmate</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.f8de3645fe00591b41524aee174e19edd98a22255a2930a0cdc82a94835ba387.css" integrity="sha256-&#43;N42Rf4AWRtBUkruF04Z7dmKIiVaKTCgzcgqlINbo4c=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.afbc00237d42ae11022c5a0e58a9545219c092e5253b33b5451e8bc4ee6c01b4.js" integrity="sha256-r7wAI31CrhECLFoOWKlUUhnAkuUlOzO1RR6LxO5sAbQ=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.png" alt="Logo" /><span>Soulmate</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>计算机基础</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1e99d92668627838818961f696faae00" class="toggle"  />
    <label for="section-1e99d92668627838818961f696faae00" class="flex justify-between">
      <a role="button" class="">八股文</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" class="">操作系统基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80-%E7%89%9B%E5%AE%A2/" class="">数据库基础-牛客</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E7%89%9B%E5%AE%A2%E5%85%AB%E8%82%A1/" class="">牛客八股</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E9%9D%A2%E8%A7%86%E9%A2%98%E6%80%BB%E7%BB%93%E4%B8%80/" class="">面视题总结（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E9%9D%A2%E8%A7%86%E9%A2%98%E6%80%BB%E7%BB%93%E4%BA%8C/" class="">面视题总结（二）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" class="">计算机网络基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" class="">数据库基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/" class="">布隆过滤器</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" class="">算法基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/linux%E5%9F%BA%E7%A1%80/" class="">Linux基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%AB%E8%82%A1%E6%96%87/git%E5%9F%BA%E7%A1%80/" class="">Git基础</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-00c75bd1eabdaaae0cac73d13168e71f" class="toggle"  />
    <label for="section-00c75bd1eabdaaae0cac73d13168e71f" class="flex justify-between">
      <a role="button" class="">其他</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/crontab%E4%BD%BF%E7%94%A8/" class="">crontab使用</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/libewf%E5%BA%93%E7%BC%96%E8%AF%91/" class="">libewf库编译</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/localhost%E4%B8%8E127.0.0.1/" class="">localhost与127.0.0.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/schtasks%E4%BD%BF%E7%94%A8/" class="">schtask使用</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/swagger/" class="">Swagger</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/vim%E7%BC%96%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="">Vim编程常用快捷键</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" class="">代码整洁之道</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A/" class="">代码注释</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E5%90%8C%E6%97%B6%E4%BD%BF%E7%94%A8github%E5%92%8Cgitlab/" class="">同时使用github和gitlab</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E8%8E%B7%E5%8F%96%E5%86%85%E7%BD%91%E6%B4%BB%E8%B7%83ip/" class="">获取内网活跃IP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E9%80%9A%E8%BF%87%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E8%AE%A1%E7%AE%97ip%E5%9C%B0%E5%9D%80%E8%8C%83%E5%9B%B4/" class="">通过子网掩码计算IP地址范围</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E9%85%8D%E7%BD%AEkylinv10/" class="">配置 Kylin V10</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%85%B6%E4%BB%96/%E8%99%9A%E6%8B%9F%E7%BB%84%E7%BD%91/" class="">虚拟组网</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3dcacc5e7a7c646c608757dc5f042d92" class="toggle"  />
    <label for="section-3dcacc5e7a7c646c608757dc5f042d92" class="flex justify-between">
      <a role="button" class="">LeetCode</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/leetcode/2021-10-14-golang%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98%E4%B8%80/" class="">golang力扣刷题（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/leetcode/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E4%B8%80/" class="">每日一题（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/leetcode/2021-11-04-golang%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98%E4%BA%8C/" class="">golang力扣刷题（二）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/leetcode/%E5%BF%85%E5%88%B7top101/" class="">必刷top101</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/leetcode/2021-10-28-leetcode%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/" class="">LeetCode算法总结</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Golang</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-670eda717a06f31447c52422ec93a159" class="toggle"  />
    <label for="section-670eda717a06f31447c52422ec93a159" class="flex justify-between">
      <a role="button" class="">基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/2021-04-07-go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E4%B8%80/" class="">go语言基础（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/channel/" class="">Channel</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/go-%E4%B8%AD%E4%BD%BF%E7%94%A8-sync.pool-%E6%97%B6%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%99%B7%E9%98%B1/" class="">Go 中使用 sync.Pool 时可能遇到的陷阱</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/golangci-lint/" class="">golangci-lint</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/golang%E6%8E%A7%E6%B5%81/" class="">Golang控流</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/golang%E9%99%90%E6%B5%81%E5%AE%9E%E8%B7%B5/" class="">golang限流实践</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/go%E6%B3%9B%E5%9E%8B%E4%BB%8B%E7%BB%8D/" class="">go泛型介绍</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/panic/" class="">panic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/pprof/" class="">pprof</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/protobuf/" class="">ProtoBuf</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/url/" class="">URL</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/%E5%8C%85%E7%AE%A1%E7%90%86/" class="">包管理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" class="">单元测试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/io.copy/" class="">奇怪的io.copy</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/%E5%B8%B8%E7%94%A8%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81/" class="">常用业务代码</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/2021-10-26-go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E4%BA%8C/" class="">go语言基础（二）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E4%B8%89/" class="">go语言基础（三）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-go/" class="">数据结构-go</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/go%E8%AF%AD%E8%A8%80%E5%BA%95%E5%B1%82%E5%9F%BA%E7%A1%80/" class="">go语言底层基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/2021-12-20-benchmark%E6%B5%8B%E8%AF%95/" class="">benchmark测试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/go%E5%AE%89%E5%85%A8%E6%8C%87%E5%8D%97/" class="">Go安全指南</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/json%E5%BA%8F%E5%88%97%E5%8C%96/" class="">Json序列化</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/%E4%BD%BF%E7%94%A8ollvm%E6%B7%B7%E6%B7%86hello-world/" class="">使用 Ollvm混淆 Hello World</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB%E5%90%88%E9%9B%86/" class="">经验分享合集</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E5%9F%BA%E7%A1%80/goland%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/" class="">Goland常用技巧</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c453881a62c640f6a4cceec99c02477e" class="toggle"  />
    <label for="section-c453881a62c640f6a4cceec99c02477e" class="flex justify-between">
      <a role="button" class="">高阶</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/go%E9%AB%98%E9%98%B6-%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" class="">Go高阶-语言基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/go%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/" class="">Go内存对齐</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="">并发编程</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/go%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97/" class="">Go避坑指南</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/go%E9%AB%98%E9%98%B6-%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%BA%93/" class="">Go高阶 语言类库</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/go%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="">go性能优化</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/go%E9%AB%98%E9%98%B6-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/" class="">Go高阶 高级特性</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E9%AB%98%E9%98%B6/%E6%98%93%E9%94%99%E7%BB%86%E8%8A%82/" class="">易错细节</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f235e88e751d2cb18d527c1784763605" class="toggle"  />
    <label for="section-f235e88e751d2cb18d527c1784763605" class="flex justify-between">
      <a role="button" class="">Package</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/flag/" class="">Flag</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/atomic/" class="">Atomic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/os/" class="">Os</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/strconv/" class="">Strconv</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/sort/" class="">Sort</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/strings/" class="">Strings</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/reflect/" class="">Reflect</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/context/" class="">context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/filepath/" class="">filepath</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/math/" class="">math</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/time/" class="">Time</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/package/sync/" class="">Sync</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-98f45c00d30ea45270982f872bd1c0bb" class="toggle"  />
    <label for="section-98f45c00d30ea45270982f872bd1c0bb" class="flex justify-between">
      <a role="button" class="">第三方库</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/resty/" class="">resty</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/diskqueue/" class="">diskqueue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/golang/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/gofpdf/" class="">gofpdf</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>AI</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9b671b3ce1ddd28af1b4312866c8b524" class="toggle"  />
    <label for="section-9b671b3ce1ddd28af1b4312866c8b524" class="flex justify-between">
      <a role="button" class="">Basic</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/cursor%E7%BB%AD%E6%9D%AF/" class="">cursor续杯</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/mcp%E6%9C%8D%E5%8A%A1/" class="">MCP服务</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/opencv_cuda%E7%BC%96%E8%AF%91/" class="">Opencv Cuda编译</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/pytorch%E9%A3%9F%E8%B0%B1/" class="">pytorch食谱</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/trae%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/" class="">Trae使用心得分享</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="">基础知识</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7%E5%BA%93/" class="">相关工具库</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/%E9%A1%B9%E7%9B%AE%E6%94%B6%E8%97%8F/" class="">项目收藏</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/basic/ai%E7%9F%A5%E8%AF%86%E6%99%AE%E5%8F%8A/" class="">Ai知识普及</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-12d52a883bb94360d36ad3bbf0cb5fd3" class="toggle"  />
    <label for="section-12d52a883bb94360d36ad3bbf0cb5fd3" class="flex justify-between">
      <a role="button" class="">Computer Vision</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/ocr%E8%AF%86%E5%88%AB/" class="">Ocr识别</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/reid%E6%95%B0%E6%8D%AE%E9%9B%86/" class="">Reid数据集</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/reid%E8%A1%8C%E4%BA%BA%E9%87%8D%E8%AF%86%E5%88%AB/" class="">Reid行人重识别</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/yolo-world/" class="">yolo-world</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/yolo%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/" class="">yolo底层原理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/yolo%E6%95%B0%E6%8D%AE%E9%9B%86/" class="">yolo数据集</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA%E4%BB%8B%E7%BB%8D/" class="">图像增强介绍</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/%E5%9B%BE%E5%83%8F%E8%B6%85%E5%88%86%E5%8E%9F%E7%90%86/" class="">图像超分原理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/%E8%A7%86%E9%A2%91%E8%B6%85%E5%88%86/" class="">视频超分</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/computer-vision/yolov8%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B&#43;%E5%AE%9E%E8%B7%B5/" class="">Yolov8快速上手 实践</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-948cfe1684759289af9e39747f026a40" class="toggle"  />
    <label for="section-948cfe1684759289af9e39747f026a40" class="flex justify-between">
      <a role="button" class="">Generative AI</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/generative-ai/qwen2.5-vl%E6%BA%90%E7%A0%81%E9%83%A8%E7%BD%B2/" class="">Qwen2.5-vl源码部署</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/generative-ai/xinference%E5%9F%BA%E7%A1%80/" class="">Xinference基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ai/generative-ai/%E5%88%A9%E7%94%A8dspy%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90prompt/" class="">利用 Dspy自动生成 Prompt</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-ac8e4e2fda641053d78fc10cbbde236e" class="toggle"  />
    <label for="section-ac8e4e2fda641053d78fc10cbbde236e" class="flex justify-between">
      <a role="button" class="">C</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/c/c&#43;&#43;%E9%83%A8%E7%BD%B2paddleocr/" class="">C&#43;&#43;部署PaddleOCR</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/c/cgo/" class="">CGo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/c/cgo%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" class="">CGO遇到的问题解决</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/c/%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81/" class="">业务代码</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/c/%E5%9C%A8cgo%E4%B8%AD%E9%9B%86%E6%88%90%E5%92%8C%E8%B0%83%E7%94%A8dll%E6%96%87%E4%BB%B6/" class="">在CGO中集成和调用DLL文件</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Python</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9fa9875ee3af29ba8922d532968a7155" class="toggle"  />
    <label for="section-9fa9875ee3af29ba8922d532968a7155" class="flex justify-between">
      <a role="button" class="">基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/python/%E5%9F%BA%E7%A1%80/python%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%8E%92%E6%9F%A5%E6%96%B9%E6%B3%95/" class="">python内存泄漏排查方法</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/%E5%9F%BA%E7%A1%80/python%E5%9F%BA%E7%A1%80/" class="">python基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/%E5%9F%BA%E7%A1%80/python%E5%AE%89%E8%A3%85/" class="">python安装</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/%E5%9F%BA%E7%A1%80/venv%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" class="">venv虚拟环境</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/%E5%9F%BA%E7%A1%80/%E5%BC%80%E5%8F%91%E5%AE%9E%E4%BE%8B/" class="">开发实例</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/%E5%9F%BA%E7%A1%80/%E6%97%A5%E5%B8%B8%E5%B0%8F%E8%84%9A%E6%9C%AC/" class="">日常小脚本</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-76d10924673a9347dff74c68c3ea9d86" class="toggle"  />
    <label for="section-76d10924673a9347dff74c68c3ea9d86" class="flex justify-between">
      <a role="button" class="">Package</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/python/package/argparse/" class="">argparse</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/package/collections/" class="">collections</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/package/detetime/" class="">datetime</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/package/decord/" class="">Decord</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/package/uvicorn/" class="">uvicorn</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/python/package/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="">正则表达式</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>数据库</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-94f26238d1ca3b5bcd40eadc7a88d726" class="toggle" checked />
    <label for="section-94f26238d1ca3b5bcd40eadc7a88d726" class="flex justify-between">
      <a role="button" class="">MySql</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" class="active">MySql相关问题</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql%E9%94%81%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93/" class="">MySql锁相关总结</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/2021-04-20-mysql%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/" class="">MySql基础总结</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mac%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" class="">Mac连接数据库所遇到的问题</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/" class="">数据库设计</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-01e4ef5e6295826a1eab8f1a7114ec2c" class="toggle"  />
    <label for="section-01e4ef5e6295826a1eab8f1a7114ec2c" class="flex justify-between">
      <a role="button" class="">Redis</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2022-03-21-redis%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" class="">Redis集群搭建</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2022-03-20-redis%E5%9F%BA%E7%A1%80/" class="">Redis基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/redis/2021-05-02-redis%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" class="">redis面试总结</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8be9c2251abd1fe110e3c1520cac6177" class="toggle"  />
    <label for="section-8be9c2251abd1fe110e3c1520cac6177" class="flex justify-between">
      <a role="button" class="">SQLite</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/fts/" class="">fts</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/sqlite/" class="">Sqlite</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/sqlite/sqlite%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8F%92%E5%85%A5%E4%BC%98%E5%8C%96/" class="">Sqlite数据库插入优化</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f65a9544b5a0dd9c3cbedb29b743305e" class="toggle"  />
    <label for="section-f65a9544b5a0dd9c3cbedb29b743305e" class="flex justify-between">
      <a role="button" class="">基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/mongodb%E5%AE%89%E8%A3%85/" class="">Mongodb安装</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%84%E8%8C%83%E5%8C%96/" class="">数据库规范化</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/xorm/" class="">Xorm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/gorm/" class="">Gorm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E7%A1%80/%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/" class="">常见数据库的备份与恢复</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>系统架构</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%9F%BA%E7%A1%80/" class="">系统架构基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-083ca86fd1b56cca1f76a6d6b34dc093" class="toggle"  />
    <label for="section-083ca86fd1b56cca1f76a6d6b34dc093" class="flex justify-between">
      <a role="button" class="">设计模式</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="">创建型设计模式</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%93%E6%9E%84%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="">结构型设计模式</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="">行为型设计模式</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95/" class="">设计模式扩展</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-266e66094f86ce336245af3b8aaf0e2e" class="toggle"  />
    <label for="section-266e66094f86ce336245af3b8aaf0e2e" class="flex justify-between">
      <a role="button" class="">微服务</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/grpc/" class="">Grpc</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/grpc%E6%8B%A6%E6%88%AA%E5%99%A8retry/" class="">grpc拦截器retry</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="">微服务</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3d14fec58473cc9c35cafaca50699647" class="toggle"  />
    <label for="section-3d14fec58473cc9c35cafaca50699647" class="flex justify-between">
      <a role="button" class="">web框架</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/web%E6%A1%86%E6%9E%B6/gin%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A/" class="">Gin参数绑定</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/web%E6%A1%86%E6%9E%B6/%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1/" class="">动态路由与静态路由</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/web%E6%A1%86%E6%9E%B6/gin%E6%A1%86%E6%9E%B6/" class="">gin框架</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/web%E6%A1%86%E6%9E%B6/%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE/" class="">流式数据</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/web%E6%A1%86%E6%9E%B6/beego%E6%A1%86%E6%9E%B6/" class="">Beego框架</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-a4047feef6f367d46b68d1e8995f5851" class="toggle"  />
    <label for="section-a4047feef6f367d46b68d1e8995f5851" class="flex justify-between">
      <a role="button" class="">前端</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%89%8D%E7%AB%AF/restfulapi/" class="">Restful API</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%89%8D%E7%AB%AF/vite&#43;vue%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE/" class="">Vite&#43;Vue快速搭建项目</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%89%8D%E7%AB%AF/vue3/" class="">Vue3</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%89%8D%E7%AB%AF/vue%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="">Vue环境搭建</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%89%8D%E7%AB%AF/websocket/" class="">Web Socket</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%89%8D%E7%AB%AF/webstorm-debug/" class="">WebStorm-debug</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-5ee6dbeeb93d5d07b824c3368271f046" class="toggle"  />
    <label for="section-5ee6dbeeb93d5d07b824c3368271f046" class="flex justify-between">
      <a role="button" class="">区块链</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-76bfb65f46ce25a0ff78d6cc4ad47773" class="toggle"  />
    <label for="section-76bfb65f46ce25a0ff78d6cc4ad47773" class="flex justify-between">
      <a role="button" class="">Fabric</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2022-02-25-fabric%E7%9B%B8%E5%85%B3%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8E%9F%E7%90%86/" class="">fabric相关机制与原理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2021-05-10-%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" class="">智能合约</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2021-05-08-fabric-sdk-go%E8%AF%A6%E8%A7%A3/" class="">fabric-sdk-go详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2021-04-15-fabric-ca%E8%AF%A6%E8%A7%A3/" class="">fabric-ca详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1e3df3eda5cf08a9c7e8cc723288fefb" class="toggle"  />
    <label for="section-1e3df3eda5cf08a9c7e8cc723288fefb" class="flex justify-between">
      <a role="button" class="">环境测试</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/fabric%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E6%8A%A5%E9%94%99%E4%B8%80/" class="">fabric网络中的报错（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-03-22-fabric%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E6%8A%A5%E9%94%99%E4%BA%8C/" class="">fabric网络中的报错（二）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-03-24-fabric%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="">fabric环境搭建</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-03-25-fabric-solo%E8%8A%82%E7%82%B9%E6%B5%8B%E8%AF%95/" class="">solo节点测试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-03-25-fabric%E5%A4%9A%E6%9C%BA%E6%90%AD%E5%BB%BA/" class="">fabric多机搭建</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-12-20-%E9%83%A8%E7%BD%B2tape%E6%B5%8B%E8%AF%95/" class="">部署tape测试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-05-01-%E6%89%8B%E5%8A%A8%E7%94%9F%E6%88%90ca%E8%AF%81%E4%B9%A6%E6%90%AD%E5%BB%BAfabric%E7%BD%91%E7%BB%9C/" class="">手动生成ca证书搭建fabric网络</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95/2021-03-18-centos%E5%AE%89%E8%A3%85fabric1.2/" class="">centos安装fabric1.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-25aef1d59a561fcefcaecb043ef8afd2" class="toggle"  />
    <label for="section-25aef1d59a561fcefcaecb043ef8afd2" class="flex justify-between">
      <a role="button" class="">配置文件</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/2021-05-01-cryptogen%E7%94%9F%E6%88%90%E7%9A%84%E8%AF%81%E4%B9%A6%E8%AF%A6%E8%A7%A3/" class="">cryptogen生成的证书详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/2021-03-30-config-yaml%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/" class="">config.yaml文件详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/2021-03-30-docker-compose-yaml%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/" class="">docker-compose.yaml文件详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/2021-03-29-configtx-yaml%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/" class="">configtx.yaml文件详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/2021-03-29-crypto-config-yaml%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/" class="">crypto-config.yaml文件详解</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2022-04-14-%E5%8D%87%E7%BA%A7%E9%93%BE%E7%A0%81/" class="">升级链码</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2022-03-25-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%BD%91%E7%BB%9C%E6%B7%BB%E5%8A%A0%E7%BB%84%E7%BB%87/" class="">区块链网络添加组织</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2021-05-02-fabric%E6%B5%8F%E8%A7%88%E5%99%A8%E6%90%AD%E5%BB%BA/" class="">fabric浏览器搭建</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2021-04-17-%E5%A6%82%E4%BD%95%E5%9C%A8%E5%B7%B2%E6%9C%89%E7%BB%84%E7%BB%87%E4%B8%AD%E5%A2%9E%E5%8A%A0%E8%8A%82%E7%82%B9/" class="">如何在已有组织中增加节点</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric/2021-04-15-fabric1.4%E5%A4%9A%E9%80%9A%E9%81%93%E5%AE%9E%E9%AA%8C/" class="">Fabric1.4多通道实验</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b07621083aa30b12de4c0333941e479f" class="toggle"  />
    <label for="section-b07621083aa30b12de4c0333941e479f" class="flex justify-between">
      <a role="button" class="">比特币</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/2022-02-25-%E6%AF%94%E7%89%B9%E5%B8%81%E7%9B%B8%E5%85%B3%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8E%9F%E7%90%86/" class="">比特币相关机制与原理</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ff5477999ef29208270c84e8b56b2758" class="toggle"  />
    <label for="section-ff5477999ef29208270c84e8b56b2758" class="flex justify-between">
      <a role="button" class="">IPFS</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/ipfs/2021-12-05-go-ipfs-api/" class="">go-ipfs-api</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/ipfs/2021-07-12-ipfs-webui%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7%E6%90%AD%E5%BB%BA/" class="">ipfs-webui可视化工具搭建</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/ipfs/2021-07-08-ipfs%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%80/" class="">IPFS基本原理（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/ipfs/2021-06-02-ipfs%E7%A7%81%E6%9C%89%E7%BD%91%E7%BB%9C%E6%90%AD%E5%BB%BA/" class="">IPFS私有网络搭建</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-77a0a17b06e8d04cfb0fba9952941706" class="toggle"  />
    <label for="section-77a0a17b06e8d04cfb0fba9952941706" class="flex justify-between">
      <a role="button" class="">密码学</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%AF%86%E7%A0%81%E5%AD%A6/2022-08-15-%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/" class="">区块链安全基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%AF%86%E7%A0%81%E5%AD%A6/2021-04-12-%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E5%8A%A0%E5%AF%86/" class="">椭圆曲线加密</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%AF%86%E7%A0%81%E5%AD%A6/2021-03-04-%E5%AF%86%E7%A0%81%E5%AD%A6%E5%9F%BA%E7%A1%80/" class="">密码学基础</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2e4d10b323fd668021dbd532575d8790" class="toggle"  />
    <label for="section-2e4d10b323fd668021dbd532575d8790" class="flex justify-between">
      <a role="button" class="">Docker</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/docker/docker%E5%9F%BA%E7%A1%80/" class="">Docker基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/docker/dockerfile/" class="">Dockerfile</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/docker/2021-04-30-docker%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/" class="">docker常用知识总结</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-70383d7f28a7ae4bf840a844eb61aa16" class="toggle"  />
    <label for="section-70383d7f28a7ae4bf840a844eb61aa16" class="flex justify-between">
      <a role="button" class="">共识算法</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" class="">共识算法基础</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95/2022-03-26-raft%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95/" class="">Raft共识算法</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-5f7b667081fbae0581cd216f66d5102f" class="toggle"  />
    <label for="section-5f7b667081fbae0581cd216f66d5102f" class="flex justify-between">
      <a role="button" class="">博客</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8D%9A%E5%AE%A2/2022-08-27-%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BAhugo/" class="">个人博客搭建Hugo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%8D%9A%E5%AE%A2/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BAhexo/" class="">个人博客搭建Hexo</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/%E5%9B%BE%E4%B9%A6/" class="">图书</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/%E5%B7%A5%E5%85%B7%E5%BA%93/" class="">工具库</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E6%94%B6%E8%97%8F/" class="">开源项目收藏</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://gitee.com/chaincode"  target="_blank" rel="noopener">
        Gitee
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>MySql相关问题</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#有了关系型数据库为什么还需要nosql">有了关系型数据库，为什么还需要NOSQL?</a></li>
            <li><a href="#数据库存储引擎">数据库存储引擎</a></li>
            <li><a href="#innodb和myism的区别">InnoDB和MyISM的区别</a></li>
            <li><a href="#mysql存储引擎是基于表的吗">mysql存储引擎是基于表的吗</a></li>
            <li><a href="#联合索引-和-mysql-调优的关系">联合索引 和 mysql 调优的关系</a></li>
            <li><a href="#mysql索引机制">MySQL索引机制</a></li>
            <li><a href="#mysql联合索引">MySQL联合索引</a></li>
            <li><a href="#最左前缀匹配原则">最左前缀匹配原则</a></li>
            <li><a href="#为什么要遵循最左前缀匹配">为什么要遵循最左前缀匹配？</a></li>
            <li><a href="#联合索引注意事项">联合索引注意事项</a></li>
            <li><a href="#char和varchar的区别">char和varchar的区别</a></li>
            <li><a href="#innodb页分裂页合并"><strong>InnoDB页分裂，页合并</strong></a></li>
            <li><a href="#mysql为什么会有存储碎片有什么危害">MySQL为什么会有存储碎片？有什么危害？</a></li>
            <li><a href="#什么是数据库范式为什么要反范式">什么是数据库范式，为什么要反范式？</a></li>
            <li><a href="#为什么大厂不建议使用多表join">为什么大厂不建议使用多表join？</a></li>
            <li><a href="#mysql一条sql语句的执行过程">MySQL一条SQL语句的执行过程</a></li>
            <li><a href="#mysql-5x和80有什么区别">MySQl 5.x和8.0有什么区别</a></li>
            <li><a href="#innodb支持哪几种行格式">InnoDB支持哪几种行格式？</a></li>
            <li><a href="#数据库事务">数据库事务</a></li>
            <li><a href="#innodb的一次更新事务过程是怎样的">InnoDB的一次更新事务过程是怎样的？</a></li>
            <li><a href="#什么是事务的2阶段提交">什么是事务的2阶段提交</a></li>
            <li><a href="#mysql能保证数据100不丢失吗">MySQL能保证数据100%不丢失吗？</a></li>
            <li><a href="#什么是脏读幻读不可重复读丢失修改">什么是脏读、幻读、不可重复读、丢失修改？</a></li>
            <li><a href="#mysql中的事务隔离级别">MySql中的事务隔离级别？</a></li>
            <li><a href="#innodb如何解决脏读不可重复读幻读的">InnoDB如何解决脏读、不可重复读、幻读的？</a></li>
            <li><a href="#如何理解mvcc">如何理解MVCC？</a></li>
            <li><a href="#mysql的select--会用到事务吗">mysql的select * 会用到事务吗？</a></li>
            <li><a href="#为什么mysql默认使用rr隔离级别">为什么MySQl默认使用RR隔离级别？</a></li>
            <li><a href="#mysql的binlog有几种格式">MySql的binlog有几种格式？</a></li>
            <li><a href="#mysql的limitorder-by什么会数据重复">MySQL的limit+order by什么会数据重复？</a></li>
            <li><a href="#为什么默认rr大厂要改成rc">为什么默认RR，大厂要改成RC？</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h3 id="有了关系型数据库为什么还需要nosql">
  有了关系型数据库，为什么还需要NOSQL?
  <a class="anchor" href="#%e6%9c%89%e4%ba%86%e5%85%b3%e7%b3%bb%e5%9e%8b%e6%95%b0%e6%8d%ae%e5%ba%93%e4%b8%ba%e4%bb%80%e4%b9%88%e8%bf%98%e9%9c%80%e8%a6%81nosql">#</a>
</h3>
<p>nosql数据库无需提前设计表结构，数据可以根据需要自由存储和组织，相较于关系型数据库，nosql高效灵活，非常适合复杂化、高效化、高并发的场景中。</p>
<ul>
<li>
<p>关系型数据库</p>
<ul>
<li>
<p>数据以行和列的方式存储</p>
</li>
<li>
<p>采用结构化查询语言来对数据进行查询</p>
</li>
<li>
<p>强调ACID规则：原子性atomicity、一致性consistency、隔离性isolation、持久性durability</p>
</li>
<li>
<p>强调数据一致性，因此牺牲了读写性能</p>
</li>
<li>
<p>通常存储在硬盘中</p>
<blockquote>
<p>mysql也可以基于内存，即内存表技术。它运行将数据和索引存储在内存中，从而提高查询和修改效率。</p>
<p>如何创建？</p>
<p>与创建普通表一样，使用CREATE TABLE，需要将存储引擎设置为：ENGINE=MEMORY</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>非关系型数据库</p>
<ul>
<li>以键值对来存储</li>
<li>没有固定的要求和限制</li>
<li>事务一般无法回滚（部分可以，MongoDB)</li>
<li>需要通过key来查询</li>
<li>基于内存存储（MongoDB基于磁盘）</li>
<li>不支持范围查询</li>
</ul>
</li>
</ul>
<h3 id="数据库存储引擎">
  数据库存储引擎
  <a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e5%ad%98%e5%82%a8%e5%bc%95%e6%93%8e">#</a>
</h3>
<p>数据库引擎是用于存储、处理和保护数据的核心服务。利用数据库引擎可以控制访问权限并快速处理事物，从而满足业务需求。</p>
<ul>
<li>
<p>查看当前使用什么引擎</p>
<p>show engines</p>
</li>
<li>
<p>查看当前默认存储引擎</p>
<p>show variables like <code>%storage_engine%</code></p>
</li>
<li>
<p>查看某表用什么引擎</p>
<p>show create table 表名</p>
<p>结果参数中有</p>
</li>
<li>
<p>如何指定引擎</p>
<ul>
<li>创建表时：create语句后面加上engine=“”</li>
<li>修改表时：alter table 表名 engine=&quot;&quot;</li>
</ul>
</li>
</ul>
<h3 id="innodb和myism的区别">
  InnoDB和MyISM的区别
  <a class="anchor" href="#innodb%e5%92%8cmyism%e7%9a%84%e5%8c%ba%e5%88%ab">#</a>
</h3>
<p><a href="https://chain-code.github.io/docs/%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9f%ba%e7%a1%80/%e5%85%ab%e8%82%a1%e6%96%87/%e6%95%b0%e6%8d%ae%e5%ba%93%e5%9f%ba%e7%a1%80-%e7%89%9b%e5%ae%a2/">InnoDB和MyISM的区别</a></p>
<h3 id="mysql存储引擎是基于表的吗">
  mysql存储引擎是基于表的吗
  <a class="anchor" href="#mysql%e5%ad%98%e5%82%a8%e5%bc%95%e6%93%8e%e6%98%af%e5%9f%ba%e4%ba%8e%e8%a1%a8%e7%9a%84%e5%90%97">#</a>
</h3>
<p>是，不是基于数据库</p>
<h3 id="联合索引-和-mysql-调优的关系">
  联合索引 和 mysql 调优的关系
  <a class="anchor" href="#%e8%81%94%e5%90%88%e7%b4%a2%e5%bc%95-%e5%92%8c-mysql-%e8%b0%83%e4%bc%98%e7%9a%84%e5%85%b3%e7%b3%bb">#</a>
</h3>
<p>mysql 调优的一个核心动作，就是通过联合索引实现索引覆盖。</p>
<p>在MySQL中，合理使用联合索引可以提高查询效率，通过 联合索引 实现 索引覆盖 ，常常需要注意一些技巧：</p>
<ul>
<li>选择合适的列：联合索引的列顺序非常重要。应该优先选择最频繁用于查询条件的列，以提高索引效率。其次考虑选择性高的列，这样可以过滤出更少的数据。</li>
<li>避免冗余列：联合索引的列应该尽量避免包含冗余列，即多个索引的前缀相同。这样会增加索引的维护成本，并占用更多的存储空间。</li>
<li>避免过度索引：不要为每个查询都创建一个新的联合索引。应该根据实际情况，分析那些查询是最频繁的，然后创建针对这些查询的索引。</li>
<li>覆盖索引：如果查询的列都包含在联合索引中，并且不需要访问表的其他列，那么MySql可以直接使用索引来执行查询，不必访问表，这种索引称为覆盖索引，可以提高查询性能。</li>
<li><strong>使用EXPLAIN进行查询计划分析：</strong> 使用MySQL的EXPLAIN语句可以查看MySQL执行查询的执行计划，以便优化查询语句和索引的使用。</li>
<li><strong>定期优化索引：</strong> 随着数据库的使用，索引的效率可能会下降，因此需要定期进行索引的优化和重建，以保持查询性能的稳定性。</li>
<li><strong>分析查询日志：</strong> 监控数据库的查询日志，分析哪些查询是最频繁的，以及它们的查询模式，可以帮助确定需要创建的联合索引。</li>
<li><strong>避免过度索引更新：</strong> 避免频繁地更新索引列，因为每次更新索引都会增加数据库的负载和IO操作。</li>
</ul>
<p>综上所述，联合索引是mysql 调优的一个核心动作， 通过 联合索引进行mysql 调优时，需要综合考虑列的选择、索引的覆盖、查询的频率和模式等因素，以提高MySQL数据库的查询性能。</p>
<h3 id="mysql索引机制">
  MySQL索引机制
  <a class="anchor" href="#mysql%e7%b4%a2%e5%bc%95%e6%9c%ba%e5%88%b6">#</a>
</h3>
<p><strong>数据库索引，官方定义如下</strong></p>
<blockquote>
<p>在关系型数据库中，索引是一种单独的、物理的数据，对数据库表中一列或多列的值进行排序的一种存储结构，它是某个表中一列或若干列值的集合，以及相应的指向表中物理标识这些值的数据页的逻辑指针清单。</p>
</blockquote>
<p><strong>通俗的理解为</strong></p>
<blockquote>
<p>在关系型数据库中，索引是一种用来帮助快速检索目标数据的存储结构。</p>
</blockquote>
<h4 id="索引的创建">
  索引的创建
  <a class="anchor" href="#%e7%b4%a2%e5%bc%95%e7%9a%84%e5%88%9b%e5%bb%ba">#</a>
</h4>
<p>MySQL可以通过CREATE、ALTER、DDL三种方式创建一个索引。</p>
<ol>
<li>使用CREATE语句创建</li>
</ol>
<pre tabindex="0"><code> CREATE INDEX indexName ON tableName (columnName(length) [ASC|DESC]);
</code></pre><ol>
<li>使用ALTER语句创建</li>
</ol>
<pre tabindex="0"><code>ALTER TABLE tableName ADD INDEX indexName(columnName(length) [ASC|DESC]);
</code></pre><ol>
<li>建表时DDL语句中创建</li>
</ol>
<pre tabindex="0"><code>CREATE TABLE tableName(  
     columnName1 INT(8) NOT NULL,   
     columnName2 ....,
     .....,
     INDEX [indexName] (columnName(length))  
   );
</code></pre><h4 id="索引的查询">
  索引的查询
  <a class="anchor" href="#%e7%b4%a2%e5%bc%95%e7%9a%84%e6%9f%a5%e8%af%a2">#</a>
</h4>
<pre tabindex="0"><code>  SHOW INDEX from tableName;
</code></pre><h4 id="索引的删除">
  索引的删除
  <a class="anchor" href="#%e7%b4%a2%e5%bc%95%e7%9a%84%e5%88%a0%e9%99%a4">#</a>
</h4>
<pre tabindex="0"><code>  ALTER  TABLE  table_name   DROP  INDEX  index_name;
  DROP   INDEX  index_name   ON  table_name;
</code></pre><h3 id="mysql联合索引">
  MySQL联合索引
  <a class="anchor" href="#mysql%e8%81%94%e5%90%88%e7%b4%a2%e5%bc%95">#</a>
</h3>
<h4 id="什么是联合索引">
  什么是联合索引
  <a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e8%81%94%e5%90%88%e7%b4%a2%e5%bc%95">#</a>
</h4>
<p>联合索引（Composite Index）是一种索引类型，它由多个列组成。</p>
<p>MySQL的联合索引（也称为复合索引）是建立在多个字段上的索引。这种索引类型允许数据库在查询时同时考虑多个列的值，从而提高查询效率和性能。</p>
<ul>
<li>联合索引：也称复合索引，就是建立在多个字段上的索引。联合索引的数据结构依然是 B+ Tree。</li>
<li>当使用(col1, col2, col3)创建一个联合索引时，创建的只是一颗B+ Tree，在这棵树中，会先按照最左的字段col1排序，在col1相同时再按照col2排序，col2相同时再按照col3排序。</li>
</ul>
<h4 id="联合索引存储结构">
  联合索引存储结构
  <a class="anchor" href="#%e8%81%94%e5%90%88%e7%b4%a2%e5%bc%95%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84">#</a>
</h4>
<p>联合索引是一种特殊类型的索引，它包含两个或更多列。</p>
<p>在MySQL中，联合索引的数据结构通常是B+Tree，这与单列索引使用的数据结构相同。</p>
<p>当创建联合索引时，需要注意列的顺序，因为这将影响到索引的使用方式。</p>
<p>如下图所示，表的数据如右图，ID 为主键，创建的联合索引为 (a，b)，注意联合索引顺序，下图是模拟的联合索引的 B+ Tree 存储结构</p>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202406241752081.webp" alt="" /></p>
<h3 id="最左前缀匹配原则">
  最左前缀匹配原则
  <a class="anchor" href="#%e6%9c%80%e5%b7%a6%e5%89%8d%e7%bc%80%e5%8c%b9%e9%85%8d%e5%8e%9f%e5%88%99">#</a>
</h3>
<p>联合索引还是一颗B+树，只不过联合索引的健 数量不是一个，而是多个。</p>
<p>构建一颗B+树只能根据一个值来构建，因此数据库依据联合索引最左的字段来构建B+树。</p>
<p>假如创建一个（a,b)的联合索引，联合索引B+ Tree结构如下：</p>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202406241753292.webp" alt="" /></p>
<p>结合上述联合索引B+ Tree结构，可以得出如下结论：</p>
<p>1.a的值是有顺序的，1，1，2，2，3，3，而b的值是没有顺序的1，2，1，4，1，2。</p>
<p>所以b = 2这种查询条件没有办法利用索引，因为联合索引首先是按a排序的，b是无序的。</p>
<p>2.当a值相等的情况下，b值又是按顺序排列的，但是这种顺序是相对的。</p>
<p>所以最左匹配原则遇上范围查询就会停止，剩下的字段都无法使用索引。</p>
<p>例如a = 1 and b = 2 ，a,b字段都可以使用索引，因为在a值确定的情况下b是相对有序的，而a&gt;1and b=2，a字段可以匹配上索引，但b值不可以，因为a的值是一个范围，在这个范围中b是无序的。</p>
<p><strong>最左匹配原则：</strong></p>
<p>最左优先，以最左边的为起点任何连续的索引都能匹配上。同时遇到范围查询(&gt;、&lt;、between、like)就会停止匹配。</p>
<p>下面我们以建立联合索引（a,b,c）为例，进行详细说明</p>
<h4 id="1-全值匹配查询时">
  1 全值匹配查询时
  <a class="anchor" href="#1-%e5%85%a8%e5%80%bc%e5%8c%b9%e9%85%8d%e6%9f%a5%e8%af%a2%e6%97%b6">#</a>
</h4>
<blockquote>
<p>下述SQL会用到索引，因为where子句中，几个搜索条件顺序调换不影响查询结果，因为MySQL中有查询优化器，会自动优化查询顺序。</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where a = &#39;1&#39; and b = &#39;2&#39; and c = &#39;3&#39; 
select * from table_name where b = &#39;2&#39; and a = &#39;1&#39; and c = &#39;3&#39; 
select * from table_name where c = &#39;3&#39; and b = &#39;2&#39; and a = &#39;1&#39; 
</code></pre><h4 id="2-匹配左边的列时">
  2 匹配左边的列时
  <a class="anchor" href="#2-%e5%8c%b9%e9%85%8d%e5%b7%a6%e8%be%b9%e7%9a%84%e5%88%97%e6%97%b6">#</a>
</h4>
<blockquote>
<p>下述SQL，都从最左边开始<strong>连续</strong>匹配，用到了索引。</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where a = &#39;1&#39; 
select * from table_name where a = &#39;1&#39; and b = &#39;2&#39;  
select * from table_name where a = &#39;1&#39; and b = &#39;2&#39; and c = &#39;3&#39;  
</code></pre><blockquote>
<p>下述SQL中，没有从最左边开始，最后查询没有用到索引，用的是全表扫描。</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where  b = &#39;2&#39; 
select * from table_name where  c = &#39;3&#39;
select * from table_name where  b = &#39;1&#39; and c = &#39;3&#39; 
</code></pre><blockquote>
<p>下述SQL中，如果不连续时，只用到了a列的索引，b列和c列都没有用到</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where  a = &#39;1&#39; and c = &#39;3&#39; 
</code></pre><h4 id="3-匹配列前缀">
  3 匹配列前缀
  <a class="anchor" href="#3-%e5%8c%b9%e9%85%8d%e5%88%97%e5%89%8d%e7%bc%80">#</a>
</h4>
<p>如果列是字符型的话它的比较规则是先比较字符串的第一个字符，第一个字符小的哪个字符串就比较小，如果两个字符串第一个字符相通，那就再比较第二个字符，第二个字符比较小的那个字符串就比较小，依次类推，比较字符串。</p>
<p>如果a是字符类型，那么前缀匹配用的是索引，后缀和中缀只能全表扫描了</p>
<pre tabindex="0"><code>select * from table_name where  a like &#39;As%&#39;;   //前缀都是排好序的，走索引查询
select * from table_name where  a like &#39;%As&#39;;   //全表查询
select * from table_name where  a like &#39;%As%&#39;;  //全表查询
</code></pre><h4 id="4-匹配范围值">
  4 匹配范围值
  <a class="anchor" href="#4-%e5%8c%b9%e9%85%8d%e8%8c%83%e5%9b%b4%e5%80%bc">#</a>
</h4>
<blockquote>
<p>下述SQL，可以对最左边的列进行范围查询</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where  a &gt; 1 and a &lt; 3
</code></pre><blockquote>
<p>多个列同时进行范围查找时，只有对索引最左边的那个列进行范围查找才用到B+树索引，也就是只有a用到索引。</p>
<p>在1&lt;a&lt;3的范围内b是无序的，不能用索引，找到1&lt;a&lt;3的记录后，只能根据条件 b &gt; 1继续逐条过滤。</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where  a &gt; 1 and a &lt; 3 and b &gt; 1;
</code></pre><h4 id="5-精确匹配某一列并范围匹配另外一列">
  5 精确匹配某一列并范围匹配另外一列
  <a class="anchor" href="#5-%e7%b2%be%e7%a1%ae%e5%8c%b9%e9%85%8d%e6%9f%90%e4%b8%80%e5%88%97%e5%b9%b6%e8%8c%83%e5%9b%b4%e5%8c%b9%e9%85%8d%e5%8f%a6%e5%a4%96%e4%b8%80%e5%88%97">#</a>
</h4>
<p>如果左边的列是精确查找的，右边的列可以进行范围查找，如下SQL中，a=1的情况下b是有序的，进行范围查找走的是联合索引</p>
<pre tabindex="0"><code>select * from table_name where  a = 1 and b &gt; 3;
</code></pre><h4 id="6-排序">
  6 排序
  <a class="anchor" href="#6-%e6%8e%92%e5%ba%8f">#</a>
</h4>
<p>一般情况下，我们只能把记录加载到内存中，再用一些排序算法，比如快速排序，归并排序等在内存中对这些记录进行排序，有时候查询的结果集太大不能在内存中进行排序的话，还可能暂时借助磁盘空间存放中间结果，排序操作完成后再把排好序的结果返回客户端。</p>
<p>Mysql中把这种再内存中或磁盘上进行排序的方式统称为文件排序。文件排序非常慢，但如果order子句用到了索引列，就有可能省去文件排序的步骤</p>
<pre tabindex="0"><code>select * from table_name order by b,c,a limit 10;
</code></pre><p>因为b+树索引本身就是按照上述规则排序的，所以可以直接从索引中提取数据，然后进行回表操作取出该索引中不包含的列就好了，order by的子句后面的顺序也必须按照索引列的顺序给出，比如下SQL：</p>
<pre tabindex="0"><code>select * from table_name order by b,c,a limit 10;
</code></pre><blockquote>
<p>在以下SQL中颠倒顺序，没有用到索引</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name order by a limit 10;
select * from table_name order by a,b limit 10;
</code></pre><blockquote>
<p>以下SQL中会用到部分索引，联合索引左边列为常量，后边的列排序可以用到索引</p>
</blockquote>
<pre tabindex="0"><code>select * from table_name where a =1 order by b,c limit 10;
</code></pre><h3 id="为什么要遵循最左前缀匹配">
  为什么要遵循最左前缀匹配？
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e9%81%b5%e5%be%aa%e6%9c%80%e5%b7%a6%e5%89%8d%e7%bc%80%e5%8c%b9%e9%85%8d">#</a>
</h3>
<p><strong>最左前缀匹配原则</strong>：在MySQL建立联合索引时会遵守最左前缀匹配原则，即最左优先，在检索数据时从联合索引的最左边开始匹配。</p>
<p>如下，我们以age，name两个字段建立一个联合索引，非叶子节点中记录age，name两个字段的值，而叶子节点中记录的是age，name两个字段值及主键Id的值，在MySQL中B+ Tree 索引结构如下：</p>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202406241753091.webp" alt="" /></p>
<p>在上述联合索引存储数据过程中，首先会按照age排序，当age相同时则按照name排序。</p>
<ol>
<li>结合上述索引结构，可以看出联合索引底层也是一颗B+Tree，在联合索引中构造B+Tree的时候，会先以最左边的key进行排序，如果左边的key相同时，则再依次按照右边的key进行排序。</li>
<li>所以在通过索引查询的时候，也需要遵守最左前缀匹配的原则，也就是需要从联合索引的最左边开始进行匹配，这时候就要求查询语句的where条件中，包含最左边的索引的值。</li>
</ol>
<h4 id="一定要遵循最左前缀匹配吗">
  一定要遵循最左前缀匹配吗？
  <a class="anchor" href="#%e4%b8%80%e5%ae%9a%e8%a6%81%e9%81%b5%e5%be%aa%e6%9c%80%e5%b7%a6%e5%89%8d%e7%bc%80%e5%8c%b9%e9%85%8d%e5%90%97">#</a>
</h4>
<p>最左前缀匹配原则，也就是SQL的查询条件中必须要包含联合索引的第一个字段，这样才能命中联合索引查询，但实际上这条规则也并不是100%遵循的。</p>
<p>因为在MySQL8.x版本中加入了一个新的优化机制，也就是索引跳跃式扫描，这种机制使得咱们即使查询条件中，没有使用联合索引的第一个字段，也依旧可以使用联合索引，看起来就像跳过了联合索引中的第一个字段一样，这也是跳跃扫描的名称由来。</p>
<p>我们来看如下例子，理解一下索引跳跃式扫描如何实现的。</p>
<p>比如此时通过(A、B、C)三个列建立了一个联合索引，此时有如下一条SQL：</p>
<pre tabindex="0"><code>SELECT * FROM table_name WHERE B = `xxx` AND C = `xxx`;
</code></pre><p>按正常情况来看，这条SQL既不符合最左前缀原则，也不具备使用索引覆盖的条件，因此绝对是不会走联合索引查询的。</p>
<p>但这条SQL中都已经使用了联合索引中的两个字段，结果还不能使用索引，这似乎有点亏啊？</p>
<p>因此MySQL8.x推出了跳跃扫描机制，但跳跃扫描并不是真正的“跳过了”第一个字段，而是优化器为你重构了SQL，比如上述这条SQL则会重构成如下情况：</p>
<pre tabindex="0"><code>SELECT * FROM `table_name ` WHERE B = `xxx` AND C = `xxx`
UNION ALL
SELECT * FROM `table_name ` WHERE B = `xxx` AND C = `xxx` AND A = &#34;yyy&#34;
......
SELECT * FROM `table_name ` WHERE B = `xxx` AND C = `xxx` AND A = &#34;zzz&#34;;
</code></pre><p>通过MySQL优化器处理后，虽然你没用第一个字段，但我（优化器）给你加上去，今天这个联合索引你就得用，不用也得给我用。</p>
<blockquote>
<p>但是跳跃扫描机制也有很多限制，比如多表联查时无法触发、SQL条件中有分组操作也无法触发、SQL中用了DISTINCT去重也无法触发等等，总之有很多限制条件，具体的可以参考《MySQL官网8.0-跳跃扫描》。</p>
</blockquote>
<p>最后，可以通过通过如下命令来选择开启或关闭跳跃式扫描机制。</p>
<pre tabindex="0"><code>set @@optimizer_switch = &#39;skip_scan=off|on&#39;;
</code></pre><h3 id="联合索引注意事项">
  联合索引注意事项
  <a class="anchor" href="#%e8%81%94%e5%90%88%e7%b4%a2%e5%bc%95%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9">#</a>
</h3>
<ol>
<li>
<p><strong>选择合适的列</strong>：应选择那些经常用于查询条件的列来创建联合索引。</p>
</li>
<li>
<p><strong>考虑列的顺序</strong>：在创建联合索引时，应该根据实际的查询需求来安排列的顺序，以确保索引能够被有效利用。</p>
</li>
<li>
<p><strong>避免过长的索引</strong>：虽然联合索引可以包含多个列，但过长的索引可能会增加维护成本，并且在某些情况下可能不会带来预期的性能提升。</p>
</li>
<li>
<p><strong>避免范围查询</strong>：如果查询中包含范围操作符（如BETWEEN, &lt;, &gt;, LIKE），则MySQL可能无法有效地利用联合索引，因为它需要检查索引中的每个范围边界。</p>
</li>
<li>
<p><strong>考虑索引的区分度</strong>：如果某个列的值重复率很高，那么该列作为联合索引的一部分可能不会提供太大的性能提升，因为它不能有效地区分不同的记录。</p>
<p>联合索引作为数据库中的一种索引类型，它由多个列组成，在使用时，一般遵循最左匹配原则，以加速数据库查询操作。</p>
</li>
</ol>
<h3 id="char和varchar的区别">
  char和varchar的区别
  <a class="anchor" href="#char%e5%92%8cvarchar%e7%9a%84%e5%8c%ba%e5%88%ab">#</a>
</h3>
<p>char是一种定长的数据类型，它的长度固定且在存储时会自动在结尾添加空格来将字符串填满指定长度。char的范围是0-255</p>
<ul>
<li>优点：定长字符串类型，减少内存碎片，并且无需额外的磁盘空间去存储长度信息。</li>
<li>缺点：丢失末尾空格信息。&ldquo;abc &ldquo;,&ldquo;abc    &ldquo;,默认补空格</li>
</ul>
<p>varchar是一种可变长度的数据类型，它只会存储实际字符串内容，不会填充空格。varchar的长度范围是0-2^16</p>
<ul>
<li>优点：变长字符串，兼容性好。</li>
<li>缺点：可能会产生内存碎片，还需要额外1到2字节存储长度信息；update语句可能会导致页分裂。</li>
<li>存储身份证、长度固定的订单号等</li>
</ul>
<h3 id="innodb页分裂页合并">
  <strong>InnoDB页分裂，页合并</strong>
  <a class="anchor" href="#innodb%e9%a1%b5%e5%88%86%e8%a3%82%e9%a1%b5%e5%90%88%e5%b9%b6">#</a>
</h3>
<p>数据页是InnoDB存储引擎中用于存储数据的基本单位，通常为16KB。B+树的每个节点都对应着一个数据页，包括根节点、非叶子节点和叶子节点。B+树通过节点之间的指针连接了不同层级的数据页，从而构建了一个有序的索引结构。</p>
<p><strong>页分裂是指将该页面中的一部分索引记录移动到一个新页面中，从而为新记录腾出空间。这样可以保持B+树的平衡和性能</strong>。</p>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202507282053476.png" alt="" /></p>
<p>那么，当我们向Innodb中添加数据的时候，如果索引是随机无序的，那么就导致页分裂。而且分裂这个动作还可能会引起连锁反应，从叶子节点沿着树结构一路分裂到根节点。</p>
<p>当索引页面中的索引记录删除后，页面可能会变得稀疏。为了节省空间和提升性能，可能会发生页合并操作。</p>
<p><strong>页合并是指将两个相邻索引页面合并成一个大的页面，减少B+树层级，提高查询性能。</strong></p>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202507282058753.png" alt="" /></p>
<h4 id="页合并危害">
  页合并危害
  <a class="anchor" href="#%e9%a1%b5%e5%90%88%e5%b9%b6%e5%8d%b1%e5%ae%b3">#</a>
</h4>
<p>页分裂和页合并涉及大量的数据移动和重组操作。频繁进行这些操作会增加数据库的I/O负担和CPU消耗，影响数据库整体性能。</p>
<p>分裂和合并可能导致B+树索引结构频繁调整，这个过程也会影响插入及删除操作的性能。</p>
<p>页分裂和合并可能会导致磁盘上存在较多的空间碎片，新分出的一个页一般会有很多空闲空间，使得数据库表占用更多的磁盘空间，而导致浪费。</p>
<h4 id="如何避免页分裂">
  如何避免页分裂
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e9%81%bf%e5%85%8d%e9%a1%b5%e5%88%86%e8%a3%82">#</a>
</h4>
<p>使用varchar或uuid作为主键，都会导致页分裂</p>
<p>尽量使用自增id作为索引，尤其是主键索引</p>
<p>如果要大量插入数据，尽量选择批量插入，而不是逐条插入。</p>
<p>频繁删除操作可能导致页合并，一般建议使用逻辑删除，而不是物理删除。</p>
<blockquote>
<p>逻辑删除：即在记录中添加一个标记，来代表此记录被删除，而不是真的从数据库删除。</p>
</blockquote>
<p>还可以根据实际情况，适当调整InnoDB的配置参数，如页大小、填充因子、叶子页合并阈值等，优化数据库性能。</p>
<blockquote>
<p>填充因子：用于控制索引页（B+树节点）物理存储密度的参数，它决定了每个数据页在初始插入数据时的填充比例。</p>
<p>填充因子越低，页中预留空间越多，减少后续插入导致的页分裂。</p>
<p>填充因子越高，页中数据越紧密，存储效率更高，索引更紧凑，可能提升缓存命中率。</p>
</blockquote>
<h3 id="mysql为什么会有存储碎片有什么危害">
  MySQL为什么会有存储碎片？有什么危害？
  <a class="anchor" href="#mysql%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bc%9a%e6%9c%89%e5%ad%98%e5%82%a8%e7%a2%8e%e7%89%87%e6%9c%89%e4%bb%80%e4%b9%88%e5%8d%b1%e5%ae%b3">#</a>
</h3>
<p>这种情况通常发生在频繁执行插入、删除和更新操作的数据库中。这些操作会导致表中的数据页部分空间未被有效利用或数据在物理存储上的排列不连续，从而形成碎片。</p>
<ul>
<li>
<p>insert</p>
<p>如果使用uuid，会导致页分裂现象，页分裂导致数据分散在磁盘多个不同的位置。新创建的页可能在物理存储上与原始页相距甚远，这些数据在物理上是不连续的，就会存在碎片。</p>
</li>
<li>
<p>update</p>
<p>如果更新操作导致数据行大小增加，而原始位置没有足够的空间容纳更多的行，这些行数据会被移动到数据文件的其他部分，留下空闲位置，导致碎片</p>
</li>
<li>
<p>delete</p>
<p>innoDB，只给数据做了删除标记，但空间不会立即释放。这导致数据页中可能存在大量未使用空间，增加了数据的分散程度，这就是碎片</p>
</li>
<li>
<p>varchar、text这种可变长度字段存储的时候</p>
</li>
</ul>
<h4 id="碎片的危害">
  碎片的危害
  <a class="anchor" href="#%e7%a2%8e%e7%89%87%e7%9a%84%e5%8d%b1%e5%ae%b3">#</a>
</h4>
<p>当表的碎片增多时，数据在物理磁盘上的存储变得不连续，将导致数据库在查询时需要更多的磁盘I/O操作，从而降低查询效率。</p>
<p>碎片导致数据库实际占用的存储空间比数据实际需要的空间大，这会大大浪费磁盘空间，还可能影响缓存效率。</p>
<p>碎片会增加备份文件的大小，同时也会使得备份和恢复过程变得更慢。</p>
<h4 id="如何避免碎片">
  如何避免碎片
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e9%81%bf%e5%85%8d%e7%a2%8e%e7%89%87">#</a>
</h4>
<ul>
<li>使用自增ID，而不是uuid</li>
<li>对固定长度的字符串，用char代替varchar</li>
<li>避免在高度易变的列上创建索引，这样会频繁触发页分裂</li>
<li>使用OPTIMIZE TABLE命令可以重新组织表和索引的物理存储，可以有效减少碎片，优化表的存储和访问速度。</li>
</ul>
<blockquote>
<p>OPTIMIZE TABLE是MySQL中的一个维护命令，用于重建表数据、整理碎片、回收空间，从而提升表性能和存储效率。</p>
</blockquote>
<h4 id="如何清理碎片">
  如何清理碎片
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e6%b8%85%e7%90%86%e7%a2%8e%e7%89%87">#</a>
</h4>
<ul>
<li>
<p>OPTIMIZE TABLE</p>
<ul>
<li>MyISAM会锁表</li>
<li>InnoDB，会对表进行共享锁定，只能读，不能写</li>
</ul>
<p>索引多、数据量大、系统资源（CPU、磁盘I/O）不足会增加操作时间</p>
</li>
</ul>
<h4 id="如何查看碎片">
  如何查看碎片
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e6%9f%a5%e7%9c%8b%e7%a2%8e%e7%89%87">#</a>
</h4>
<ul>
<li>
<p>show table status   或者  INFORAMTION_SCHEMA</p>
<p>Data_free字段，表示未使用空间，通常表示表中的碎片空间。</p>
</li>
</ul>
<h3 id="什么是数据库范式为什么要反范式">
  什么是数据库范式，为什么要反范式？
  <a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e6%95%b0%e6%8d%ae%e5%ba%93%e8%8c%83%e5%bc%8f%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e5%8f%8d%e8%8c%83%e5%bc%8f">#</a>
</h3>
<h4 id="1nf属性不可再分">
  1NF：属性不可再分
  <a class="anchor" href="#1nf%e5%b1%9e%e6%80%a7%e4%b8%8d%e5%8f%af%e5%86%8d%e5%88%86">#</a>
</h4>
<h4 id="2nf要有主键其他字段都依赖主键">
  2NF：要有主键，其他字段都依赖主键
  <a class="anchor" href="#2nf%e8%a6%81%e6%9c%89%e4%b8%bb%e9%94%ae%e5%85%b6%e4%bb%96%e5%ad%97%e6%ae%b5%e9%83%bd%e4%be%9d%e8%b5%96%e4%b8%bb%e9%94%ae">#</a>
</h4>
<p>在一个成绩表中，我们使用“学号”和“课程号”作为联合主键来唯一确定一条成绩记录。</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>课程号</th>
<th>姓名</th>
<th>课程名称</th>
<th>成绩</th>
</tr>
</thead>
<tbody>
<tr>
<td>1001</td>
<td>C001</td>
<td>张三</td>
<td>数据库原理</td>
<td>90</td>
</tr>
<tr>
<td>1001</td>
<td>C002</td>
<td>张三</td>
<td>计算机网络</td>
<td>85</td>
</tr>
<tr>
<td>1002</td>
<td>C001</td>
<td>李四</td>
<td>数据库原理</td>
<td>92</td>
</tr>
</tbody>
</table>
<p>在这个表中，“姓名”只依赖于“学号”，而“课程名称”只依赖于“课程号”。它们都只依赖于联合主键的一部分，这就产生了部分依赖。这种设计会导致数据冗余（“张三”和“数据库原理”被多次存储）和更新异常（如果课程名称变更，需要修改多条记录）。</p>
<p><strong>修改如下：</strong></p>
<p><strong>学生表 (Student):</strong></p>
<table>
<thead>
<tr>
<th>学号 (主键)</th>
<th>姓名</th>
</tr>
</thead>
<tbody>
<tr>
<td>1001</td>
<td>张三</td>
</tr>
<tr>
<td>1002</td>
<td>李四</td>
</tr>
</tbody>
</table>
<p><strong>课程表 (Course):</strong></p>
<table>
<thead>
<tr>
<th>课程号 (主键)</th>
<th>课程名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>C001</td>
<td>数据库原理</td>
</tr>
<tr>
<td>C002</td>
<td>计算机网络</td>
</tr>
</tbody>
</table>
<p><strong>成绩表 (Score):</strong></p>
<table>
<thead>
<tr>
<th>学号 (外键)</th>
<th>课程号 (外键)</th>
<th>成绩</th>
</tr>
</thead>
<tbody>
<tr>
<td>1001</td>
<td>C001</td>
<td>90</td>
</tr>
<tr>
<td>1001</td>
<td>C002</td>
<td>85</td>
</tr>
<tr>
<td>1002</td>
<td>C001</td>
<td>92</td>
</tr>
</tbody>
</table>
<p>通过拆分，成绩表中的非主键字段“成绩”完全依赖于联合主键（“学号”和“课程号”）。学生姓名和课程名称不再冗余存储，数据一致性也得到了更好的保证。</p>
<h4 id="3nf非主键外的所有字段都互不依赖">
  3NF：非主键外的所有字段都互不依赖
  <a class="anchor" href="#3nf%e9%9d%9e%e4%b8%bb%e9%94%ae%e5%a4%96%e7%9a%84%e6%89%80%e6%9c%89%e5%ad%97%e6%ae%b5%e9%83%bd%e4%ba%92%e4%b8%8d%e4%be%9d%e8%b5%96">#</a>
</h4>
<p>让我们在学生表中加入“院系”和“院系主任”两个字段：</p>
<table>
<thead>
<tr>
<th>学号 (主键)</th>
<th>姓名</th>
<th>院系</th>
<th>院系主任</th>
</tr>
</thead>
<tbody>
<tr>
<td>1001</td>
<td>张三</td>
<td>计算机科学与技术</td>
<td>王老师</td>
</tr>
<tr>
<td>1002</td>
<td>李四</td>
<td>计算机科学与技术</td>
<td>王老师</td>
</tr>
<tr>
<td>1003</td>
<td>王五</td>
<td>软件工程</td>
<td>赵老师</td>
</tr>
</tbody>
</table>
<p>在这个表中，“院系主任”依赖于“院系”，而“院系”依赖于“学号”。这样就形成了传递依赖（学号 -&gt; 院系 -&gt; 院系主任）。这种设计同样会带来数据冗余和更新异常。如果某院系的系主任发生变动，就需要更新该院系所有学生的记录。</p>
<p><strong>修改如下：</strong></p>
<p><strong>学生表 (Student):</strong></p>
<table>
<thead>
<tr>
<th>学号 (主键)</th>
<th>姓名</th>
<th>院系ID (外键)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1001</td>
<td>张三</td>
<td>D01</td>
</tr>
<tr>
<td>1002</td>
<td>李四</td>
<td>D01</td>
</tr>
<tr>
<td>1003</td>
<td>王五</td>
<td>D02</td>
</tr>
</tbody>
</table>
<p><strong>院系表 (Department):</strong></p>
<table>
<thead>
<tr>
<th>院系ID (主键)</th>
<th>院系名称</th>
<th>院系主任</th>
</tr>
</thead>
<tbody>
<tr>
<td>D01</td>
<td>计算机科学与技术</td>
<td>王老师</td>
</tr>
<tr>
<td>D02</td>
<td>软件工程</td>
<td>赵老师</td>
</tr>
</tbody>
</table>
<p>通过这样的拆分，学生表中的非主键字段只直接依赖于主键“学号”。院系信息被独立存储，消除了传递依赖，进一步减少了数据冗余，提高了数据的维护性。</p>
<blockquote>
<p>我们在做表结构设计的时候，完全遵守数据库三范式，确实可以避免一些写时异常，提升写入性能，但是同时也会丢失一些读取性能。</p>
<p>因为在遵守范式的数据库设计中，表中不能有任何冗余字段，这就使得查询的时候会经常有多表关联查询，这无疑是比较耗时的。</p>
</blockquote>
<h4 id="反范式">
  反范式
  <a class="anchor" href="#%e5%8f%8d%e8%8c%83%e5%bc%8f">#</a>
</h4>
<p>是一种针对遵从设计范式的数据库的性能优化策略；反范式不等于非范式化，反范式化一定发生在满足范式设计的基础上。先遵守所有规定，再进行局部调整。</p>
<p>比如在表中增加一些冗余字段，方便数据查询，不需要做表join，本质上就是用空间换时间的概念。需要保证数据一致性。</p>
<h3 id="为什么大厂不建议使用多表join">
  为什么大厂不建议使用多表join？
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e5%a4%a7%e5%8e%82%e4%b8%8d%e5%bb%ba%e8%ae%ae%e4%bd%bf%e7%94%a8%e5%a4%9a%e8%a1%a8join">#</a>
</h3>
<p>主要原因是join效率比较低</p>
<p>MySQL是使用了嵌套循环的方式实现关联查询的，简单来说通过两层循环，用第一张表做外循环，第二张表做内循环，外循环的每条记录跟内循环的记录做比较，符合条件就输出。</p>
<p>两张表的话，复杂度O(n^2),O(n^3),。。。</p>
<h4 id="join">
  join
  <a class="anchor" href="#join">#</a>
</h4>
<p>join有三种</p>
<ul>
<li>
<p>inner join（内连接，或等值连接）：获取两个表中字段匹配关系的记录</p>
<p>取两个表的交集部分</p>
</li>
<li>
<p>left join（左连接）：获取左表中的所有记录，即使右表中没有对应匹配的记录</p>
<p>取两个表的交集部分+左表中的数据</p>
</li>
<li>
<p>right join（右连接）：获取右表中的所有记录，即使左表没有对应匹配的记录。</p>
<p>取两个表的交集部分+右表中的数据</p>
</li>
</ul>
<p>在配合join一起使用的还有on关键字，用来指明关联查询的一些条件。</p>
<h4 id="嵌套循环算法">
  嵌套循环算法
  <a class="anchor" href="#%e5%b5%8c%e5%a5%97%e5%be%aa%e7%8e%af%e7%ae%97%e6%b3%95">#</a>
</h4>
<p>MySQL使用了嵌套循环（Nested-Loop join)的方式来实现关联查询的</p>
<p>具体算法：</p>
<ul>
<li>
<p>simple nested loop join</p>
<p>做法简单粗暴，就是全量扫描连接两张表进行数据的两两对比，所以复杂度可认为为：N*M</p>
<blockquote>
<p>N是驱动表的数量，M是被驱动表的数量</p>
</blockquote>
</li>
<li>
<p>index nested loop</p>
<p>当inner loop的表用到的字段有索引的话，可以用索引进行查询数据，因为索引是B+树的，复杂度可以近似认为是N*logM</p>
</li>
<li>
<p>block nested loop</p>
<p>引入一个buffer，会提前把外循环的一部分数据提前放到buffer中，然后内循环的每一行都和整个buffer的数据比较。虽然比较次数还是N*M，但是因为buffer是基于内存的，所以效率高很多。</p>
</li>
</ul>
<h4 id="不做join如何关联查询">
  不做join如何关联查询
  <a class="anchor" href="#%e4%b8%8d%e5%81%9ajoin%e5%a6%82%e4%bd%95%e5%85%b3%e8%81%94%e6%9f%a5%e8%af%a2">#</a>
</h4>
<ul>
<li>
<p>在内存中自己作关联，即先从数据库中把数据查出来之后，我们在代码中再进行二次查询，然后再进行关联。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">categoryMap</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">uint</span>]<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">categories</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">categoryMap</span>[<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">ID</span>] = <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Name</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 为每本书添加分类名称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">books</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">books</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">CategoryName</span> = <span style="color:#a6e22e">categoryMap</span>[<span style="color:#a6e22e">books</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">CategoryID</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>数据冗余，就是把一些重要数据在表中作冗余</p>
</li>
<li>
<p>宽表，就是基于一定的join关系，把数据库中多张表的数据打平做一张大宽表，可以同步到ES或干脆直接在数据库中直接查询</p>
<ul>
<li>可在应用层自己构建宽表</li>
<li>数据库也可直接创建宽表</li>
</ul>
<blockquote>
<p><strong>Elasticsearch（简称 ES）</strong> 是一个开源的 <strong>分布式搜索和分析引擎</strong>，基于 <strong>Apache Lucene</strong> 构建，专为处理大规模数据而设计。它提供 <strong>近实时（NRT, Near Real-Time）</strong> 的全文搜索能力，支持结构化、非结构化数据的快速检索和分析。</p>
</blockquote>
</li>
</ul>
<h3 id="mysql一条sql语句的执行过程">
  MySQL一条SQL语句的执行过程
  <a class="anchor" href="#mysql%e4%b8%80%e6%9d%a1sql%e8%af%ad%e5%8f%a5%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b">#</a>
</h3>
<pre tabindex="0"><code>select * form users where age=&#39;18&#39; and name=&#39;hool&#39;
</code></pre><p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202508021445596.png" alt="" /></p>
<ul>
<li>使用连接器，通过客户端/服务器通信协议与MySQL建立连接，并查询是否有权限。</li>
<li>MySQL8.0之前检查是否开启缓存，开启Query Cache且命中完全相同的SQL语句，则将查询结果直接返回给客户端。</li>
<li>由解析器（分析器）进行语法和语义分析，并生成解析数。如查询是select、表名users、条件是age=&lsquo;18&rsquo; and name=&lsquo;hool&rsquo;,预处理器则会根据MySQL规则进一步检查<strong>解析树是否合法</strong>。比如检查要<strong>查询的数据表或数据列是否存在</strong>等。</li>
<li>由优化器生成执行计划。根据索引看看是否可以优化</li>
<li>执行器来执行sql语句，这里具体执行操作MySQL的存储引擎来执行SQL语句，根据存储引擎类型，得到查询结果。若开启了 Query Cache，则缓存，否则直接返回。</li>
</ul>
<h3 id="mysql-5x和80有什么区别">
  MySQl 5.x和8.0有什么区别
  <a class="anchor" href="#mysql-5x%e5%92%8c80%e6%9c%89%e4%bb%80%e4%b9%88%e5%8c%ba%e5%88%ab">#</a>
</h3>
<ul>
<li>
<p>性能：8.0比5.x快约2倍</p>
</li>
<li>
<p>NoSQL：5.7版本开始提供NoSQL存储功能，8.0在其上面做了进一步改进。</p>
</li>
<li>
<p>窗口函数：8.0开始，新增一个窗口函数的概念，它可以用来实现若干新的查询方式。窗口函数与SUM()、COUNT()这种集合函数类似，但它不会将多行查询结果合并为一行，而是将结果放回多行中。即窗口函数不需要group by(分组）。</p>
<p><strong>统计每个部门的员工数量</strong></p>
<blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> 
</span></span><span style="display:flex;"><span>    department, 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">AS</span> employee_count
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> 
</span></span><span style="display:flex;"><span>    employees
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">GROUP</span> <span style="color:#66d9ef">BY</span> 
</span></span><span style="display:flex;"><span>    department;
</span></span></code></pre></div></blockquote>
</li>
<li>
<p>隐藏索引：8.0中，索引可以被隐藏和显示。隐藏时，它不会被优化器所使用。可以用来进行性能调试。索引隐藏后， 若性能没变化，证明索引多余。</p>
</li>
<li>
<p>取消查询缓存：8.0出于性能和可维护方面取消了查询缓存，通过使用索引、更好的查询计划优化、以及缓存结果集而不是整个查询。</p>
</li>
<li>
<p>select for update支持no wait：如果另一个事物已经锁定了一些行，当前事物将等待直到哪些锁被释放。加上NOWAIT关键字后，如果尝试锁定的行被其他事物锁定，立即抛出错误，不再等待。</p>
</li>
<li>
<p>降序索引：8.0为索引提供按降序方式进行排序的支持，在这种索引中的值也会按降序的方式进行排序</p>
</li>
<li>
<p>UTF-8编码：从8.0开始，utf8mb4作为mysql默认字符集</p>
</li>
<li>
<p>json:8.0大幅改进了对json的支持</p>
</li>
<li>
<p>可靠性增加</p>
</li>
<li>
<p>高可用性：innoDB集群集成了原生高可用性解决方案</p>
</li>
<li>
<p>安全性增强</p>
</li>
</ul>
<h3 id="innodb支持哪几种行格式">
  InnoDB支持哪几种行格式？
  <a class="anchor" href="#innodb%e6%94%af%e6%8c%81%e5%93%aa%e5%87%a0%e7%a7%8d%e8%a1%8c%e6%a0%bc%e5%bc%8f">#</a>
</h3>
<table>
<thead>
<tr>
<th style="text-align:center">行格式</th>
<th style="text-align:center">版本支持</th>
<th style="text-align:center">特点描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>COMPACT</strong>    compact(小型的、袖珍的)</td>
<td style="text-align:center">所有版本</td>
<td style="text-align:center">默认格式，紧凑存储，减少空间占用</td>
</tr>
<tr>
<td style="text-align:center"><strong>DYNAMIC</strong>   dynamic（动态的、动力的）</td>
<td style="text-align:center">5.7+ (默认)</td>
<td style="text-align:center">处理大对象(BLOB/TEXT)更高效，支持大索引键</td>
</tr>
<tr>
<td style="text-align:center"><strong>COMPRESSED</strong>  compressed(压缩的)</td>
<td style="text-align:center">所有版本</td>
<td style="text-align:center">提供表和索引数据压缩</td>
</tr>
<tr>
<td style="text-align:center"><strong>REDUNDANT</strong>  redundant(多余的，不需要的)</td>
<td style="text-align:center">兼容保留</td>
<td style="text-align:center">旧格式，兼容性保留</td>
</tr>
</tbody>
</table>
<h3 id="数据库事务">
  数据库事务
  <a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e4%ba%8b%e5%8a%a1">#</a>
</h3>
<p><a href="https://chain-code.github.io/docs/%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9f%ba%e7%a1%80/%e5%85%ab%e8%82%a1%e6%96%87/%e6%95%b0%e6%8d%ae%e5%ba%93%e5%9f%ba%e7%a1%80/#%e4%bb%8b%e7%bb%8dmysql%e7%9a%84%e4%ba%8b%e5%8a%a1">事务</a></p>
<h3 id="innodb的一次更新事务过程是怎样的">
  InnoDB的一次更新事务过程是怎样的？
  <a class="anchor" href="#innodb%e7%9a%84%e4%b8%80%e6%ac%a1%e6%9b%b4%e6%96%b0%e4%ba%8b%e5%8a%a1%e8%bf%87%e7%a8%8b%e6%98%af%e6%80%8e%e6%a0%b7%e7%9a%84">#</a>
</h3>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202508021544442.png" alt="" /></p>
<ul>
<li>
<p>在buffer pool中读取数据：当InnoDB需要更新一条记录时，首先会在buffer pool中查询该记录是否在内存中。如果没有在内存中，则从磁盘读取该页到buffer pool中。</p>
<blockquote>
<p>Buffer Pool 是 InnoDB 存储引擎的 <strong>核心内存组件</strong>，主要用于缓存表数据和索引数据，是 MySQL 性能优化的关键所在。</p>
<p><strong>Buffer Pool（缓冲池）</strong> 是 InnoDB 在内存中开辟的 <strong>数据缓存区域</strong>，用于：</p>
<ul>
<li><strong>缓存磁盘上的数据页</strong>（减少磁盘 I/O）</li>
<li><strong>加速读写操作</strong>（内存访问比磁盘快几个数量级）</li>
<li><strong>管理脏页（Dirty Page）</strong>（待写入磁盘的修改数据）</li>
</ul>
</blockquote>
</li>
<li>
<p>记录Undo log 回滚日志:在修改操作前，InnoDB会在Undo log中记录修改前的数据。Undo log的写入最开始写入到内存中，然后由一个后台线程定时刷新到磁盘中。</p>
<blockquote>
<p>若未刷盘，会回滚事务，超时重试、强制刷盘等机制</p>
</blockquote>
</li>
<li>
<p>在Buffer Pool中更新：当执行update语句时，InnoDB会先更新已经读取到Buffer Pool中的数据，而不是直接写入磁盘。同时，InnoDB会将修改后的数据页状态设置为脏页状态，表示该页已经被修改但尚未写入磁盘。</p>
</li>
<li>
<p>记录RedoLog buffer 重做日志：InnoDB在Buffer Pool中记录<strong>修改操作的同时</strong>，InnoDB会先将修改操作写入到redo log buffer中</p>
</li>
<li>
<p>提交事务：在执行完所有修改操作后，事务被提交。在提交事务时，InnoDB会将Redo log写入磁盘，以保证事务持久性。</p>
</li>
<li>
<p>写入磁盘：在提交过程中，InnoDB会将Buffer Pool的脏页写入磁盘，以保证数据的持久性。但这个写入过程并不是立即执行的，是后台线程异步执行的，所以会延迟写入。</p>
</li>
<li>
<p>记录bin log :在提交过程中，InnoDB会将事务提交的信息记录到Binlog中。binlog是mysql用来实现主从复制的一种机制，用于将主库上的事务同步到从库上。在bin log中记录的信息包括：事务开始时间、数据库名、表名、事务ID、sql语句等。</p>
</li>
</ul>
<p>需要注意的是，在binlog和redo log的写入过程中，其实是分了两阶段的，通过两阶段提交的方式保证一致性。</p>
<h3 id="什么是事务的2阶段提交">
  什么是事务的2阶段提交
  <a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e4%ba%8b%e5%8a%a1%e7%9a%842%e9%98%b6%e6%ae%b5%e6%8f%90%e4%ba%a4">#</a>
</h3>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202508021619012.png" alt="" /></p>
<p>过程是：</p>
<ul>
<li>
<p>Prepare (准备）阶段</p>
<p>这个阶段SQL已经成功执行并生成redolog写入磁盘，出于Prepare阶段</p>
</li>
<li>
<p>Binlog持久化</p>
<p>binlog提交，将binlog写入磁盘</p>
</li>
<li>
<p>commit</p>
<p>在执行引擎内部执行事务操作，写入redolog，处于commit阶段。</p>
</li>
</ul>
<blockquote>
<p>write和fsync是与文件系统和磁盘I/O相关的两个不同操作</p>
<p>write操作将数据写入文件的缓冲区，这意味着write操作完成后，并不一定立即将数据持久化到磁盘上，而是将数据暂时存储在内存中。</p>
<p>fsync用于强制将文件的修改持久化到磁盘上。它通常与write配合使用，以确保文件的修改在fsync操作完成后被写入磁盘。</p>
<p><img src="https://blockchaincode.oss-cn-hangzhou.aliyuncs.com/202508021708812.png" alt="" /></p>
<p>除了这两个之外，还有一个fdatasync，它将指定文件等数据部分从操作it缓存同步到磁盘中，但可能不会刷新元数据（如文件修改时间、权限等）</p>
</blockquote>
<p><strong>二阶段提交主要为了保证bin log和redo log的提交一致性</strong></p>
<p>若先写redo log，系统崩了，bin log没写，重启后，事务状态可恢复，但从数据库无法同步</p>
<p>若先写bin log，系统崩了，redo log没写，重启后，事务不可恢复，从数据库多一条记录。</p>
<ul>
<li>
<p>第一阶段提交后崩了，即写入redo log，处于prepare状态的时候</p>
<p>此时已经写入了redolog，处于prepare状态，binlog还没写，崩了直接回滚事务</p>
</li>
<li>
<p>第二阶段崩了</p>
<p>此时redolog处于prepare状态，binlog写完了，这时候检测binlog事务是否存在并且完整，如果存在且完整，则直接提交事务，否则回滚事务</p>
</li>
<li>
<p>第三阶段崩了</p>
<p>同阶段二类似处理</p>
</li>
</ul>
<h4 id="如何判断binlog和redolog达成一致了">
  如何判断binlog和redolog达成一致了？
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%adbinlog%e5%92%8credolog%e8%be%be%e6%88%90%e4%b8%80%e8%87%b4%e4%ba%86">#</a>
</h4>
<p>mysql写完redo log并将它改为prepare状态时，会在redo log中记录一个 XID，全局唯一标识这个事务。</p>
<p>第二阶段binlog刷新磁盘后，binlog结束位置上也会有一个XID。</p>
<p>对比XID确保一致性。</p>
<h3 id="mysql能保证数据100不丢失吗">
  MySQL能保证数据100%不丢失吗？
  <a class="anchor" href="#mysql%e8%83%bd%e4%bf%9d%e8%af%81%e6%95%b0%e6%8d%ae100%e4%b8%8d%e4%b8%a2%e5%a4%b1%e5%90%97">#</a>
</h3>
<p>不能</p>
<p>InnoDB有基于内存的，基于内存的如果断电，就会丢失</p>
<p>InnoDB设置了二次提交防止数据丢失。InonDB会默认设置将日志数据立即刷入磁盘，有两个参数，值设置为1。但这样还可能会丢失：</p>
<ul>
<li>
<p>fsync只请求刷盘，不一定会真的落到磁盘介质</p>
<p>有些硬盘会欺骗fsync</p>
</li>
<li>
<p>写缓存未关闭</p>
<p>如果设备层还启用了缓存，操作系统或数据库会认为写入完成，但实际上数据还在硬件缓存中。</p>
</li>
<li>
<p>断电或非正常宕机</p>
<p>如果没用使用UPS（不间断电源）或BBU（电池保护），哪怕你调用了fsync，掉电依旧可能导致数据丢失</p>
</li>
<li>
<p>磁盘损坏等</p>
</li>
</ul>
<h3 id="什么是脏读幻读不可重复读丢失修改">
  什么是脏读、幻读、不可重复读、丢失修改？
  <a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e8%84%8f%e8%af%bb%e5%b9%bb%e8%af%bb%e4%b8%8d%e5%8f%af%e9%87%8d%e5%a4%8d%e8%af%bb%e4%b8%a2%e5%a4%b1%e4%bf%ae%e6%94%b9">#</a>
</h3>
<p><a href="https://chain-code.github.io/docs/%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9f%ba%e7%a1%80/%e5%85%ab%e8%82%a1%e6%96%87/%e6%95%b0%e6%8d%ae%e5%ba%93%e5%9f%ba%e7%a1%80/#%e4%bb%8b%e7%bb%8dmysql%e7%9a%84%e4%ba%8b%e5%8a%a1">脏读、丢失修改、不可重复读、丢失修改</a></p>
<p>不可重复读是读到的不一样，幻读是多了几行数据</p>
<h3 id="mysql中的事务隔离级别">
  MySql中的事务隔离级别？
  <a class="anchor" href="#mysql%e4%b8%ad%e7%9a%84%e4%ba%8b%e5%8a%a1%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab">#</a>
</h3>
<p><a href="https://chain-code.github.io/docs/%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9f%ba%e7%a1%80/%e5%85%ab%e8%82%a1%e6%96%87/%e6%95%b0%e6%8d%ae%e5%ba%93%e5%9f%ba%e7%a1%80/#%e4%bb%8b%e7%bb%8dmysql%e7%9a%84%e4%ba%8b%e5%8a%a1">隔离级别</a></p>
<p>可串行化解决了丢失修改</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>隔离级别</strong></th>
<th style="text-align:center"><strong>是否解决丢失修改</strong></th>
<th style="text-align:center"><strong>实现机制</strong></th>
<th style="text-align:center"><strong>性能影响</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>读未提交（Read Uncommitted）</strong></td>
<td style="text-align:center">❌ 不解决</td>
<td style="text-align:center">无任何锁</td>
<td style="text-align:center">最高</td>
</tr>
<tr>
<td style="text-align:center"><strong>读已提交（Read Committed）</strong></td>
<td style="text-align:center">❌ 不解决</td>
<td style="text-align:center">仅防止脏读</td>
<td style="text-align:center">高</td>
</tr>
<tr>
<td style="text-align:center"><strong>可重复读（Repeatable Read）</strong></td>
<td style="text-align:center">✅ 在InnoDB中解决（通过MVCC+间隙锁）</td>
<td style="text-align:center">快照读 + 写冲突检测</td>
<td style="text-align:center">中</td>
</tr>
<tr>
<td style="text-align:center"><strong>可串行化（Serializable）</strong></td>
<td style="text-align:center">✅ 完全解决</td>
<td style="text-align:center">全表锁</td>
<td style="text-align:center">最低</td>
</tr>
</tbody>
</table>
<h3 id="innodb如何解决脏读不可重复读幻读的">
  InnoDB如何解决脏读、不可重复读、幻读的？
  <a class="anchor" href="#innodb%e5%a6%82%e4%bd%95%e8%a7%a3%e5%86%b3%e8%84%8f%e8%af%bb%e4%b8%8d%e5%8f%af%e9%87%8d%e5%a4%8d%e8%af%bb%e5%b9%bb%e8%af%bb%e7%9a%84">#</a>
</h3>
<p><strong>通过mvcc机制解决脏读和不可重复读，通过mvcc+间隙锁解决幻读</strong></p>
<ul>
<li>
<p>脏读</p>
<p>脏读读解决依赖了Read View,Read View会告诉我们本次事务应该看到那个快照，不应该看到那个快照。</p>
<p>简单来说：当事务在“读已提交”隔离级别下执行读取操作时，InnoDB获取当前最新的全局事务ID，这个ID表示在当前时刻所有已提交事务的最新状态。InnoDB会检查每个数据行的版本，如果该版本是由一个小于或等于当前事务ID的事务修改的，并且该事务已提交，则这个版本是可见的。这保证了事务只能看到在它开始之前已经提交的数据版本。</p>
</li>
<li>
<p>不可重复读</p>
<p>InnoDB使用mvcc来解决不可重复读问题。在RR可重读读隔离级别下，当我们使用快照进行数据读取的时候，只会在第一次读取的时候生成一个Read VIew，后续的所有快照读都使用同一个快照。</p>
</li>
<li>
<p>幻读</p>
<p>基于MVCC+间隙锁，在某种程度可以避免幻读发生，但没有办法完全避免。</p>
<blockquote>
<p>事务1先进行快照读，事务2插入数据并提交，事务1再进行update新插入的这条记录是可以成功的。</p>
<p>事务1先进行快照读，事务2插入数据并提交，事务1再进行当前读，会发生幻读。</p>
</blockquote>
</li>
</ul>
<h4 id="mvcc解决幻读">
  MVCC解决幻读
  <a class="anchor" href="#mvcc%e8%a7%a3%e5%86%b3%e5%b9%bb%e8%af%bb">#</a>
</h4>
<p>mvcc有两种读，一种是快照读，一种是当前读</p>
<ul>
<li>
<p>快照读</p>
<p>读取的是快照生成的那一刻的数据，像普通select 语句在不加锁的情况下就是快照读。</p>
<p>在RC（读已提交）中，每次读取都会重新生成一个快照，总是读取行的最新版本。</p>
<p>在RR（可重复读）中，快照会在事务中第一次select语句执行时生成，只有在本事务中对数据进行更改才会更新快照。</p>
<p>也就是说在快照读情况下，mvcc可以解决幻读问题。</p>
</li>
<li>
<p>当前读</p>
<p>读取的是最新数据，所以加锁的select，或者对数据进行增删改都会进行当前读。</p>
<p>在RR级别下，使用select  &hellip; for update的时候，会进行加锁，不仅仅对行记录加锁，还会对记录之间的间隙进行加锁，这就叫间隙锁。</p>
<p>因为记录之间的间隙被锁住了，所以事务2无法插入数据，一直到事务1把锁释放掉它才能执行成功。</p>
<p>所以在RR级别中，通过加入间隙锁的方式，就避免了幻读的发生。</p>
</li>
</ul>
<h4 id="解决不了的幻读">
  解决不了的幻读
  <a class="anchor" href="#%e8%a7%a3%e5%86%b3%e4%b8%8d%e4%ba%86%e7%9a%84%e5%b9%bb%e8%af%bb">#</a>
</h4>
<ul>
<li>
<p><strong>未来得及加间隙锁</strong></p>
</li>
<li>
<p>事务1第一次查询不加锁，用快照读，然后事务2插入数据并提交；事务1再加锁查询第二次，发生了当前读。</p>
</li>
</ul>
<p><strong>根据快照读的定义，如果本事务中发生了数据修改，就会更新快照。</strong></p>
<h4 id="如何避免幻读">
  如何避免幻读
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e9%81%bf%e5%85%8d%e5%b9%bb%e8%af%bb">#</a>
</h4>
<p>最高隔离级别，可串行化</p>
<p>如果一定要加锁，一定要在事务一开始就加锁，这样就会有间隙锁，有效避免幻读发生。</p>
<h3 id="如何理解mvcc">
  如何理解MVCC？
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e7%90%86%e8%a7%a3mvcc">#</a>
</h3>
<p>多版本并发控制系统，和数据库锁一样，它是一种解决方案。</p>
<p><strong>快照读是MVCC实现的基础，而当前读是悲观锁实现的基础。</strong></p>
<h4 id="undolog">
  UndoLog
  <a class="anchor" href="#undolog">#</a>
</h4>
<h3 id="mysql的select--会用到事务吗">
  mysql的select * 会用到事务吗？
  <a class="anchor" href="#mysql%e7%9a%84select--%e4%bc%9a%e7%94%a8%e5%88%b0%e4%ba%8b%e5%8a%a1%e5%90%97">#</a>
</h3>
<p>会，在innoDB中，所有的修改操作都必须在事务中进行</p>
<p>即使没有明确的开启事务的语句，InnoDB存储引擎也会为查询自动开启一个隐式事务</p>
<p>查询语句事务不会持有任何锁，在查询结束后立即提交。这种隐式事务通常被称为自动事务。</p>
<h3 id="为什么mysql默认使用rr隔离级别">
  为什么MySQl默认使用RR隔离级别？
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88mysql%e9%bb%98%e8%ae%a4%e4%bd%bf%e7%94%a8rr%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab">#</a>
</h3>
<p>Mysql定位是提供一个稳定的关系型数据库。为了解决单点故障问题，主要采用主从复制。就是搭建Mysql集群，整体对外提供服务，集群中的机器分为主服务器和从服务器，主服务器提供写服务，从服务器提供读服务。</p>
<p><strong>MySql在主从复制的过程中，数据的同步是通过bin log进行的。</strong></p>
<p><strong>早期bin log只有statement这一种格式，里面记录的就是SQL语句原文。</strong></p>
<h4 id="如果使用读未提交和读已提交这两种隔离级别会出现以下问题">
  如果使用读未提交和读已提交这两种隔离级别会出现以下问题：
  <a class="anchor" href="#%e5%a6%82%e6%9e%9c%e4%bd%bf%e7%94%a8%e8%af%bb%e6%9c%aa%e6%8f%90%e4%ba%a4%e5%92%8c%e8%af%bb%e5%b7%b2%e6%8f%90%e4%ba%a4%e8%bf%99%e4%b8%a4%e7%a7%8d%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab%e4%bc%9a%e5%87%ba%e7%8e%b0%e4%bb%a5%e4%b8%8b%e9%97%ae%e9%a2%98">#</a>
</h4>
<table>
<thead>
<tr>
<th style="text-align:center">事务1开始</th>
<th style="text-align:center">事务2开始</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">删除小于10的数据</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">插入一条数据5</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">提交事务</td>
</tr>
<tr>
<td style="text-align:center">提交事务</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<blockquote>
<p>在主数据库中，如果是RC隔离级别，事务2插入操作看不到事务1删除操作，所以数据库中后面仍然会留下5</p>
<p>但由于事务提交顺序不同，在bin log中会留下   插入数据5    删除小于10的数据 的SQL语句。这样bin log被同步到从数据库中，会导致数据不一致。</p>
</blockquote>
<p>为了避免上述情况，才讲数据库默认隔离级别设置成了RR。</p>
<p>在RR隔离级别下，事务1在更新数据的时候，不仅对更新的行加行级锁，还会增加GAP锁和临键锁。所以事务2执行时会被卡住，等事务1结束后才能继续执行。</p>
<p>因此Mysql还禁止在使用statement格式的bin log情况下，使用RC 事务隔离级别。<strong>会报错</strong>。</p>
<h3 id="mysql的binlog有几种格式">
  MySql的binlog有几种格式？
  <a class="anchor" href="#mysql%e7%9a%84binlog%e6%9c%89%e5%87%a0%e7%a7%8d%e6%a0%bc%e5%bc%8f">#</a>
</h3>
<ul>
<li>
<p>statement</p>
<p>用的很少，binlog记录的SQL原文，会导致主从数据库数据不同步情况</p>
<blockquote>
<ul>
<li>一种是RC隔离级别下的不同步</li>
<li>一种是delete或update时，指定了limit，但并没有使用order by。</li>
</ul>
</blockquote>
</li>
<li>
<p>row</p>
<p>binlog会记录每个数据更改的具体细节。意味着二进制日志中的每个条目都会详细列出发生变更的行的内容和修改。</p>
<ul>
<li>优点：不会发生主从不一致情况</li>
<li>缺点：会记录更多的数据，在数据恢复的时候比较慢，也会导致磁盘IO和网络IO比较高。</li>
</ul>
</li>
<li>
<p>mixed</p>
<p>结合row 和 statement 的优点，MySQL 会根据情况自动选择切换。</p>
</li>
</ul>
<h3 id="mysql的limitorder-by什么会数据重复">
  MySQL的limit+order by什么会数据重复？
  <a class="anchor" href="#mysql%e7%9a%84limitorder-by%e4%bb%80%e4%b9%88%e4%bc%9a%e6%95%b0%e6%8d%ae%e9%87%8d%e5%a4%8d">#</a>
</h3>
<p>如果order by的列中，多行具有相同的值，服务器可以自由地以任何顺序返回这些行，并且根据整体执行计划的不同可能会以不同的方式返回它们。</p>
<p><strong>可能结果1</strong>：</p>
<table>
<thead>
<tr>
<th style="text-align:center">id</th>
<th style="text-align:center">name</th>
<th style="text-align:center">score</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">85</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Bob</td>
<td style="text-align:center">85</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Charlie</td>
<td style="text-align:center">85</td>
</tr>
</tbody>
</table>
<p><strong>可能结果2</strong>（相同查询，不同执行计划）：</p>
<table>
<thead>
<tr>
<th style="text-align:center">id</th>
<th style="text-align:center">name</th>
<th style="text-align:center">score</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">Eve</td>
<td style="text-align:center">85</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Charlie</td>
<td style="text-align:center">85</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Bob</td>
<td style="text-align:center">85</td>
</tr>
</tbody>
</table>
<p>因此进行limit+order by时，一定要避免使用可能重复的字段，如时间、名称、分数等。应该选择唯一性的字段，如主键ID。</p>
<h3 id="为什么默认rr大厂要改成rc">
  为什么默认RR，大厂要改成RC？
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%bb%98%e8%ae%a4rr%e5%a4%a7%e5%8e%82%e8%a6%81%e6%94%b9%e6%88%90rc">#</a>
</h3>
<p>主要是为了提高并发度，降低死锁发生概率。</p>
<ul>
<li>
<p>一致性读</p>
<p>又称快照读。</p>
<p>在mysql中，只有RR和RC两种隔离级别才会使用快照读。</p>
<p>在RR中，快照会在事务第一次select语句执行时生成，只有在本事务中对数据进行更改才会更新快照。</p>
<p>在RC中，每次读取都会重新生成快照，总是读取行的最新版本。</p>
<p>在RC这种隔离级别中，还支持**“半一致读”**，一条update语句，如果where条件匹配到的记录已经加锁，那么InnoDB会返回记录最近提交的版本，由MySQL上层判断是否需要真的加锁。</p>
</li>
<li>
<p>锁机制</p>
<p>在MySQL中，有三种类型锁</p>
<ul>
<li>
<p>Record Lock：记录锁，锁的是索引记录</p>
</li>
<li>
<p>Gap Lock:间隙锁，锁的是索引记录之间的间隙</p>
</li>
<li>
<p>Next-key Lock:是记录锁和间隙锁的组合，同时锁索引记录和间隙。它的范围是左开右闭的。</p>
<blockquote>
<p>为什么左开右闭？</p>
</blockquote>
</li>
</ul>
<p>在RC中，只会对索引加记录锁，不会添加间隙锁和Next-key Lock</p>
<p>在RR中，为了解决幻读问题，都支持</p>
</li>
<li>
<p>主从同步</p>
<p>在RC隔离级别下，可以支持row格式日志</p>
</li>
</ul>
<h4 id="为什么使用">
  为什么使用？
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bd%bf%e7%94%a8">#</a>
</h4>
<ul>
<li>
<p>提升并发</p>
<p>RC只会对索引加记录锁，使得并发比RR高，RC还支持**“半一致读”**，可以大大减少更新语句时行锁的冲突；对于不满足更新条件的记录，可以提前释放锁，提升并发度。</p>
</li>
<li>
<p>减少死锁</p>
<p>在RR中，为了解决幻读问题，支持三种锁，使得锁粒度变大，死锁概率变大</p>
</li>
</ul>
<p>通过其他方式解决不可重复读问题，或者不可重复读问题并不严重。商品大促时，突然修改了商品价格，部分用户按原价格下单，又能怎？</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#有了关系型数据库为什么还需要nosql">有了关系型数据库，为什么还需要NOSQL?</a></li>
            <li><a href="#数据库存储引擎">数据库存储引擎</a></li>
            <li><a href="#innodb和myism的区别">InnoDB和MyISM的区别</a></li>
            <li><a href="#mysql存储引擎是基于表的吗">mysql存储引擎是基于表的吗</a></li>
            <li><a href="#联合索引-和-mysql-调优的关系">联合索引 和 mysql 调优的关系</a></li>
            <li><a href="#mysql索引机制">MySQL索引机制</a></li>
            <li><a href="#mysql联合索引">MySQL联合索引</a></li>
            <li><a href="#最左前缀匹配原则">最左前缀匹配原则</a></li>
            <li><a href="#为什么要遵循最左前缀匹配">为什么要遵循最左前缀匹配？</a></li>
            <li><a href="#联合索引注意事项">联合索引注意事项</a></li>
            <li><a href="#char和varchar的区别">char和varchar的区别</a></li>
            <li><a href="#innodb页分裂页合并"><strong>InnoDB页分裂，页合并</strong></a></li>
            <li><a href="#mysql为什么会有存储碎片有什么危害">MySQL为什么会有存储碎片？有什么危害？</a></li>
            <li><a href="#什么是数据库范式为什么要反范式">什么是数据库范式，为什么要反范式？</a></li>
            <li><a href="#为什么大厂不建议使用多表join">为什么大厂不建议使用多表join？</a></li>
            <li><a href="#mysql一条sql语句的执行过程">MySQL一条SQL语句的执行过程</a></li>
            <li><a href="#mysql-5x和80有什么区别">MySQl 5.x和8.0有什么区别</a></li>
            <li><a href="#innodb支持哪几种行格式">InnoDB支持哪几种行格式？</a></li>
            <li><a href="#数据库事务">数据库事务</a></li>
            <li><a href="#innodb的一次更新事务过程是怎样的">InnoDB的一次更新事务过程是怎样的？</a></li>
            <li><a href="#什么是事务的2阶段提交">什么是事务的2阶段提交</a></li>
            <li><a href="#mysql能保证数据100不丢失吗">MySQL能保证数据100%不丢失吗？</a></li>
            <li><a href="#什么是脏读幻读不可重复读丢失修改">什么是脏读、幻读、不可重复读、丢失修改？</a></li>
            <li><a href="#mysql中的事务隔离级别">MySql中的事务隔离级别？</a></li>
            <li><a href="#innodb如何解决脏读不可重复读幻读的">InnoDB如何解决脏读、不可重复读、幻读的？</a></li>
            <li><a href="#如何理解mvcc">如何理解MVCC？</a></li>
            <li><a href="#mysql的select--会用到事务吗">mysql的select * 会用到事务吗？</a></li>
            <li><a href="#为什么mysql默认使用rr隔离级别">为什么MySQl默认使用RR隔离级别？</a></li>
            <li><a href="#mysql的binlog有几种格式">MySql的binlog有几种格式？</a></li>
            <li><a href="#mysql的limitorder-by什么会数据重复">MySQL的limit+order by什么会数据重复？</a></li>
            <li><a href="#为什么默认rr大厂要改成rc">为什么默认RR，大厂要改成RC？</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












